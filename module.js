if(!JSON){var JSON;if(!JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}())}if(!String.prototype.trim){(function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,"")}})()}if(window.Element&&!Element.prototype.closest){Element.prototype.closest=function(c){var d=(this.document||this.ownerDocument).querySelectorAll(c),a,b=this;do{a=d.length;while(--a>=0&&d.item(a)!==b){}}while((a<0)&&(b=b.parentElement));return b}}(function(cx,M,bR){var F=function(){var e=cx.maCookiePrefix;return typeof e==="string"?e:"roistat"};var ab=F();var bM=function(){return cx[ab+"Host"]};var bC=false,ac="356",B=13,c7=42,x=bM(),aQ="0.2",ap="1.0",df="roistat_visit_cookie_expire",cn="roistat_visit",aW="roistat_cookies_to_resave",cf="roistat_guid",a1="roistat_next_guid",a7="roistat_first_visit",aw="roistat_is_need_listen_requests",bo="roistat_is_save_data_in_cookie",dK="roistat_phone",V="roistat_raw_phone",E="roistat_externalCountersEnabled",aP="roistat_referrer",di="roistat_marker",bq="roistat_marker_old",bJ="roistat_ab",al="roistat_previous_ab",W="roistat_ab_submit",bT=35*24*60*60,cU="rs",N="roistat",ai="leadhunter_expire",T=5*60*60,bS="roistat_leadHunterEnabled",r="roistat_leadHunterTargetPagesMap",cM="roistat_leadHunterCallbackSettings",a5="roistat_leadHunterScriptId",ad="roistat_isleadHunterScriptIdActive",bm="roistat_multiwidgetEnabled",ce="roistat_multiwidgetVKEnabled",c4="roistat_multiwidgetVKLink",U="roistat_multiwidgetFBEnabled",dp="roistat_multiwidgetFBLink",cP="roistat_multiwidgetTelegramEnabled",bA="roistat_multiwidgetTelegramLink",c0="roistat_multiwidgetWhatsAppEnabled",bQ="roistat_multiwidgetWhatsAppLink",dS="roistat_multiwidgetViberEnabled",cS="roistat_multiwidgetViberLink",au="roistat_multiwidgetSettings",c1="roistat_onlineChatEnabled",C="roistat_onlineChatSettings",d=7*24*60*60,c9={expires:d,path:"/"},aq="roistat-promo",az="roistat-phone",L="roistat-phone-country",ar="roistat-phone-region",O="roistat-phone-number",dC="roistat-phone-tel",b0="country",aY="region",bt="number",ci="tel",aa="get-phone",n="roistat_call_tracking",ae="roistat-js-script",bH="roistat_phone_replacement",bu="roistat_phone_script_data",c6="roistat-visit-id",a8="roistat_metrika_counter_id",j="roistat_marker_from_referrer",bG="roistat_emailtracking_email",b="roistat_emailtracking_tracking_email",bW="roistat_emailtracking_emails",l="roistat_geo_data",a0="roistat_promo_code",dE="roistat_proxy_forms",db="roistat_isMultiDomain",cW=["roistat_param1","roistat_param2","roistat_param3","roistat_param4","roistat_param5"],co="roistat_debug",bb="roistat_settings_saved",cD="nocookie",a9=["yandex.ru"],aN="beta_test",cQ="roistat_settings_version",cc="roistat-leadhunter-form-template",bF="roistat-leadhunter-pulsator-template",cb="roistat-leadhunter-pulsator-settings",bB="roistat-online-chat-pulsator-template",D="roistat-online-chat-iframe-template",dj="roistat-multiwidget-pulsator-template",f="roistat-multiwidget-pulsator-settings",ag="roistat_last_settings_update_time",cK="roistat_authorized_client",aJ="roistat_params",dr=50,aX="mobile",p="tablet",b8="desktop",b4=500,dy=1024;
var cr="ru",aE="en",cH={ru:["Русский","Russian"],en:["Английский","English"]},am,s;var cd={callTrackingEnabled:true,callTrackingManual:false,jsonpRequestTimeout:100};var cp={isVisitProcessed:false,visitFromUser:null,cookies:{},pageParams:{},source:{marker:null},isSettingsUpdating:false,isAbTestsApplied:false};var c8={onVisitProcessed:[],onCallTrackingPhoneReceived:[],onSPAPageChanged:[],onAbTestsApplied:{}};if(cx.roistatAlreadyStarted){if(typeof console!=="undefined"&&console.log){console.log("Call: roistat already started, skip")}return}cx.roistatAlreadyStarted=true;if(cx.roistatCookieDomain){c9.domain=cx.roistatCookieDomain}var cB=function(){return new Date().getTime()};var z=function(dT){var dU=cB()-by;var e="["+(dU/1000)+"s] "+dT;br=br+"; "+e;if(typeof console!=="undefined"&&console.log&&bC){console.log(e)}};var u=function(e){var dU=e.split(".");var dT=dU.length;if(dT<2){return e}return dU[dT-2]+"."+dU[dT-1]};var A=function(){var dT=cx.screen||null;var e=cx.navigator||null;return{screenWidth:dT!==null?(dT.width||null):null,screenHeight:dT!==null?(dT.height||null):null,screenIsExtended:dT!==null?(dT.isExtended||null):null,screenPixelDepth:dT!==null?(dT.pixelDepth||null):null,screenColorDepth:dT!==null?(dT.colorDepth||null):null,deviceMemory:e!==null?(e.deviceMemory||null):null,hardwareConcurrency:e!==null?(e.hardwareConcurrency||null):null,language:e!==null?(e.language||null):null,maxTouchPoints:e!==null?(e.maxTouchPoints||null):null,platform:e!==null?(e.platform||null):null}};var dk="cllctr."+u(x);cx.roistat={version:ac,getSource:function(){return cp.source.marker},visit:null,getVisit:function(){return roistat.visit},setVisit:function(e){cp.visitFromUser=e},registerOnVisitProcessedCallback:function(e){cN(e)},registerOnCalltrackingPhoneReceivedCallback:function(e){bD(e)},disableCallTracking:function(){cd.callTrackingEnabled=false},setCallTrackingManualMode:function(){cd.callTrackingManual=true},setJSONPRequestTimeout:function(e){cd.jsonpRequestTimeout=e},callTracking:{enabled:0,phone:"",sessionTime:0,replacementClasses:"",phonePrefix:"",rawPhone:""},emailtracking:{enabled:true,loaded:false,email:null,trackingEmail:null,emails:null,refresh:function(){z("Warning: used emailtracking refresh before module init")}},geo:{city:null,country:null,region:null},leadHunter:{isEnabled:true,onBeforeAppear:null,onAfterAppear:null,onBeforeSubmit:null,onAfterSubmit:null,additionalNotifyEmail:null,localization:{translateToRussian:null,translateToEnglish:null},form:{title:null,subTitle:null,thankYouText:null,buttonText:null,nameLabel:null,contactLabel:null,isNameRequired:false,autoShowTime:null,isNeedExplicitAgreement:null}},onlineChat:{isEnabled:true,customTriggerSelector:null,customPosition:{top:null,right:null,bottom:null,left:null},localization:{translateToRussian:null,translateToEnglish:null,translate:null},actions:{initWithMessage:null,openChat:null},notificationsCustomHolderSelector:null,isAvailableForCurrentUserAgent:true,pagesFilter:{isEnabled:false,pages:[]}},promoCode:{isEnabled:true},multiwidget:{isEnabled:true,isVisible:true,vk:{isEnabled:false,link:null},fb:{isEnabled:false,link:null},telegram:{isEnabled:false,link:null},whatsApp:{isEnabled:false,link:null},viber:{isEnabled:false,link:null}},page:{params:{}},proxyForms:{enabled:true,loaded:false,settings:[]},registerAbTestCallback:function(e,dT){if(!cp.isAbTestsApplied&&typeof dT==="function"){c8.onAbTestsApplied[e]=dT}},authClientById:function(e){aL(e,bR)},authClientByEmail:function(e){aL(bR,e)},setDeviceParams:function(){if(!cp.isVisitProcessed){z("Visit is not processed, return");return}var e=o();if(e<=0){z("Invalid arguments, return");return}var dU=A();var dT=S()+"/update-visit-by-device-params?visit="+e+"&v="+ac;for(var dW in dU){if(!dU.hasOwnProperty(dW)){continue}var dV=dU[dW];if(dV===null){continue}dT+="&"+dW+"="+encodeURIComponent(dV)}a6(dT)},setRoistatParams:function(dZ,dY,dW,dV,dU){var d0=dZ!==null&&dP(dZ)?dZ:{roistat_param1:dZ,roistat_param2:dY,roistat_param3:dW,roistat_param4:dV,roistat_param5:dU};if(!cp.isVisitProcessed){z("Visit is not processed, return");return}var dX=o();if(dX<=0){z("Invalid arguments, return");return}var d1=be(d0);if(!aZ(d1)){z("Has no valid roistat params for visit update, return");return}bl(d1);var e=S()+"/update-visit-by-params?visit="+dX+"&v="+ac;for(var dT in d1){if(!Object.prototype.hasOwnProperty.call(d1,dT)){continue}e+="&"+dT+"="+encodeURIComponent(d1[dT])}a6(e)}};var be=function(dV){var e={};for(var dU=1;dU<=dr;dU++){var dT="roistat_param"+dU;if(!Object.prototype.hasOwnProperty.call(dV,dT)){continue}var dW=dV[dT];if(dW!==bR&&dW!==null&&dW.toString().length>0){e[dT]=dW}}return e};var bl=function(dU){var dW=aJ;var dT=cu.get(dW);var e=JSON.stringify(dU);var dV=dT===e;if(e!=null&&e.length>0){c2(dU)}if(dV){z("Params already updated, return");return}cu.set(dW,e)};var c2=function(dT){for(var e=1;e<=dr;e++){var dU="roistat_param"+e;if(dT.hasOwnProperty(dU)){cx.roistat.page.params[dU]=dT[dU]}}};var aL=function(e,dV){if(!cp.isVisitProcessed){z("Visit is not processed, return");
return}var dW=e!==bR&&e.length>0,dZ=dV!==bR&&dV.length>0;if(!dW&&!dZ){z("Invalid client params, return");return}var dX=o();if(dX<=0){z("Invalid arguments, return");return}var dY=cK,d0=cu.get(dY),dU=dW?e:dV;if(d0===dU){z('Client "'+dU+'" is already authorized, return');return}z("Auth client: "+dU);cu.set(dY,dU);var dT=S()+"/update-visit-by-client?visit="+dX+"&v="+ac;if(dW){dT+="&client_id="+encodeURIComponent(e)}if(dZ){dT+="&client_email="+encodeURIComponent(dV)}a6(dT)};var dt=function(dV,dT){var dU=dV.length;for(var e=0;e<dU;e++){if(dT===dV[e]){return true}}return false};var aj=function(){return i(aN)>0};var y=function(){return cx.location.protocol+"//"+cx.location.host+cx.location.pathname};var H=function(){if(dM()){return aX}if(dA()){return p}return b8};var dM=function(){return cx.innerWidth<=b4};var dA=function(){return cx.innerWidth>b4&&cx.innerWidth<=dy};var bL=function(){return dM()||dA()};var bf=function(){return cx[ab+"ProjectId"]};var cR=function(){var e=bf().replace(/\D/g,"");z("getProjectHash: "+e);return e};var bw=function(e){var dT=cR();return dt(e,dT)};var cZ=function(e){return JSON.parse(JSON.stringify(e))};var bK=function(){var dT=cZ(c9),e=parseInt(cu.get(df));dT.expires=e>0?e:d;return dT};var cN=function(e){if(!cp.isVisitProcessed){c8.onVisitProcessed.push(e)}else{e()}};var c3=function(){cp.isVisitProcessed=true;z("[Roistat] visit id set. Processing callbacks");var dT=c8.onVisitProcessed.length;for(var e=0;e<dT;e++){c8.onVisitProcessed[e]()}if(cx.roistatVisitCallback!==bR){cx.roistatVisitCallback(cx.roistat.getVisit())}};var bD=function(e){c8.onCallTrackingPhoneReceived.push(e)};var dq=function(){var dT=c8.onCallTrackingPhoneReceived.length;for(var e=0;e<dT;e++){c8.onCallTrackingPhoneReceived[e]()}};var aF=function aF(e){c8.onSPAPageChanged.push(e)};var cl=function cl(){z("[Roistat] SPA page changed. Processing callbacks");var dT=c8.onSPAPageChanged.length;for(var e=0;e<dT;e++){c8.onSPAPageChanged[e]()}};var at=function(dW,dV){var dU=dW.className.split(" "),dT=false,e;for(var e=0;e<dU.length;e++){if(dU[e]===dV){dT=true;break}}if(!dT){dU.push(dV);dW.className=dU.join(" ")}};var cm=function(dV,dU){var dT=dV.className.split(" "),e;for(var e=0;e<dT.length;e++){if(dT[e]===dU){dT.splice(e,1);dV.className=dT.join(" ");break}}};var aM=function(dU){try{return decodeURIComponent(dU)}catch(dV){var dT;dT=w(dU);if(dT===null){return dU}return dT}};var b7={visitor_uid:function(){z("AmoCrmUID: starting collecting AmoCRM visitor_uid");if(!dP(cx.AMOPIXEL_IDENTIFIER)||!Z(cx.AMOPIXEL_IDENTIFIER.getVisitorUid)){z("AmoCrmUID: AMOPIXEL_IDENTIFIER not an object or 'getVisitorUid()' function not found");return null}var e=AMOPIXEL_IDENTIFIER.getVisitorUid();if(!ba(e)){z("AmoCrmUID: visitor_uid value must be a string");return null}return e},roistat_yclid:function(){return af("yclid",false)},roistat_gclid:function(){return af("gclid",false)},roistat_rb_clickid:function(){return af("rb_clickid",false)}};var aI=function(){for(var dT in b7){var e=b7[dT]();if(e===null){continue}dD(dT,e,c9)}};var bp=function(){return["_ym_uid","_ga","_fbp","_fbc"].concat(P(b7))};var w=function(dX){var dW={"%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FC":"%D1%8C","%FB":"%D1%8B","%FA":"%D1%8A","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D0":"%D0%A0","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DC":"%D0%AC","%DB":"%D0%AB","%DA":"%D0%AA","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF"};var dU="";var dV=0;while(dV<dX.length){var dT=dX.substring(dV,dV+3);if(Object.prototype.hasOwnProperty.call(dW,dT)){dU+=dW[dT];dV+=3}else{dU+=dX.substring(dV,dV+1);dV++}}try{return decodeURIComponent(dU)}catch(dY){return null}};cx.roistatVersion=ac;var bI,ao=bw(["860340978620700251","93600421474928811290145"]),K=bw(["97532377849195770346229","592829167247144932861","5920396192098309402868","591183866179479527","19640141722769938679","7517211421734017584031","3101387160241499728","48846105634802027","353439800158189719","89748922669691497827"]),k,cF=true,cL=decodeURIComponent(M.location.href),br="",a4="",by=new Date().getTime(),dh=false,cV=cx.roistatPhonePrefix?cx.roistatPhonePrefix:"",dL=cx.roistatPhonePrefixBind?cx.roistatPhonePrefixBind:"",X=cx.roistatCalltrackingScripts&&cx.roistatCalltrackingScripts.join?cx.roistatCalltrackingScripts.join(","):"";var ct=function(e){if(!K){return e
}var dT=e.replace(/^roistat[_-]/,"");return ab+"_"+dT};var i,dD,dQ,de;i=cx.roistatGetCookie=function(e){var dT=ct(e);var dU=M.cookie.match(new RegExp("(?:^|; )"+dT.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return dU?aM(dU[1]):bR};dQ=function(e,dZ,d0){var dX=ct(e);d0=d0||{};var dV=d0.expires;if(typeof dV=="number"&&dV){var dY=new Date();dY.setTime(dY.getTime()+dV*1000);dV=d0.expires=dY}if(dV&&dV.toUTCString){d0.expires=dV.toUTCString()}dZ=encodeURIComponent(dZ);var dT=dX+"="+dZ;for(var dW in d0){dT+="; "+dW;var dU=d0[dW];if(dU!==true){dT+="="+dU}}M.cookie=dT};dD=cx.roistatSetCookie=function dD(dT,dW,e){dQ(dT,dW,e);var dV;dV=i(aW);dV=ba(dV)?dV.split(","):[];for(var dU in dV){if(dV[dU]===dT){return}}dV.push(dT);dQ(aW,dV.join(","),{path:"/"})};de=function de(dT,e){var dU=cZ(e);dU.expires=new Date(0).toUTCString();dQ(dT,"",dU)};var bP=function(dT,dV,dU){var e=dT[dV];dT[dV]=function(){if(e){e.apply(this,arguments)}dU.apply(this,arguments)}};var an=function(dU,dT,dV){if(dU.addEventListener){dU.addEventListener(dT,dV,false);return}var e="on"+dT;if(dU.attachEvent){dU.attachEvent(e,dV);return}if(e in dU){bP(dU,e,dV);return}if(dT in dU){bP(dU,dT,dV);return}z("Handler could not be attached")};var q=function(dV,dU){var dT=dV.length;for(var e=0;e<dT;e++){dU(dV[e])}};var P=function(e){var dT=[];bx(e,function(dU,dV){dT.push(dU)});return dT};var bx=function(e,dU){for(var dT in e){if(Object.prototype.hasOwnProperty.call(e,dT)){dU(dT,e[dT])}}};var bE=function(e){return Object.prototype.toString.call(e)==="[object Array]"};var aZ=function(dT){if(typeof dT!=="object"){return false}for(var e in dT){if(dT.hasOwnProperty(e)){return true}}return false};var dv=function(dU){try{var dT=JSON.parse(dU);if(dT&&typeof dT==="object"){return dT}}catch(dV){}return null};if(M.getElementsByClassName==bR){M.getElementsByClassName=function(dT){var e=[];var dX=new RegExp("\\b"+dT+"\\b");var dW=this.getElementsByTagName("*");for(var dV=0;dV<dW.length;dV++){var dU=dW[dV].className;if(dX.test(dU)){e.push(dW[dV])}}return e}}var aO=function(){return String.fromCharCode};var c5=function(dU){var e="";for(var dT=0;dT<dU.length;++dT){e+=aO()(c7^dU.charCodeAt(dT))}return e};var aV=function(e){return encodeURIComponent(c5(cA.encode(e)))};var cA={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(dU){var e="";var d1,dZ,dX,d0,dY,dW,dV;var dT=0;dU=cA._utf8_encode(dU);while(dT<dU.length){d1=dU.charCodeAt(dT++);dZ=dU.charCodeAt(dT++);dX=dU.charCodeAt(dT++);d0=d1>>2;dY=((d1&3)<<4)|(dZ>>4);dW=((dZ&15)<<2)|(dX>>6);dV=dX&63;if(isNaN(dZ)){dW=dV=64}else{if(isNaN(dX)){dV=64}}e=e+this._keyStr.charAt(d0)+this._keyStr.charAt(dY)+this._keyStr.charAt(dW)+this._keyStr.charAt(dV)}return e},decode:function(dU){var e="";var d1,dZ,dX;var d0,dY,dW,dV;var dT=0;dU=dU.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(dT<dU.length){d0=this._keyStr.indexOf(dU.charAt(dT++));dY=this._keyStr.indexOf(dU.charAt(dT++));dW=this._keyStr.indexOf(dU.charAt(dT++));dV=this._keyStr.indexOf(dU.charAt(dT++));d1=(d0<<2)|(dY>>4);dZ=((dY&15)<<4)|(dW>>2);dX=((dW&3)<<6)|dV;e=e+String.fromCharCode(d1);if(dW!=64){e=e+String.fromCharCode(dZ)}if(dV!=64){e=e+String.fromCharCode(dX)}}e=cA._utf8_decode(e);return e},_utf8_encode:function(dT){dT=dT.replace(/\r\n/g,"\n");var e="";for(var dV=0;dV<dT.length;dV++){var dU=dT.charCodeAt(dV);if(dU<128){e+=String.fromCharCode(dU)}else{if((dU>127)&&(dU<2048)){e+=String.fromCharCode((dU>>6)|192);e+=String.fromCharCode((dU&63)|128)}else{e+=String.fromCharCode((dU>>12)|224);e+=String.fromCharCode(((dU>>6)&63)|128);e+=String.fromCharCode((dU&63)|128)}}}return e},_utf8_decode:function(e){var dU="";var dW=0;var dX=0;var dV=0;var dT=0;while(dW<e.length){dX=e.charCodeAt(dW);if(dX<128){dU+=String.fromCharCode(dX);dW++}else{if((dX>191)&&(dX<224)){dV=e.charCodeAt(dW+1);dU+=String.fromCharCode(((dX&31)<<6)|(dV&63));dW+=2}else{dV=e.charCodeAt(dW+1);dT=e.charCodeAt(dW+2);dU+=String.fromCharCode(((dX&15)<<12)|((dV&63)<<6)|(dT&63));dW+=3}}}return dU}};var bZ=bZ||function(d4,dU){var dW={},dX=dW.lib={},dV=function(){},e=dX.Base={extend:function(d5){dV.prototype=this;var d6=new dV;d5&&d6.mixIn(d5);d6.hasOwnProperty("init")||(d6.init=function(){d6.$super.init.apply(this,arguments)});d6.init.prototype=d6;d6.$super=this;return d6},create:function(){var d5=this.extend();d5.init.apply(d5,arguments);return d5},init:function(){},mixIn:function(d5){for(var d6 in d5){d5.hasOwnProperty(d6)&&(this[d6]=d5[d6])}d5.hasOwnProperty("toString")&&(this.toString=d5.toString)},clone:function(){return this.init.prototype.extend(this)}},dT=dX.WordArray=e.extend({init:function(d5,d6){d5=this.words=d5||[];this.sigBytes=d6!=dU?d6:4*d5.length},toString:function(d5){return(d5||d3).stringify(this)},concat:function(d5){var d8=this.words,d6=d5.words,d7=this.sigBytes;d5=d5.sigBytes;this.clamp();if(d7%4){for(var d9=0;d9<d5;d9++){d8[d7+d9>>>2]|=(d6[d9>>>2]>>>24-8*(d9%4)&255)<<24-8*((d7+d9)%4)}}else{if(65535<d6.length){for(d9=0;d9<d5;d9+=4){d8[d7+d9>>>2]=d6[d9>>>2]}}else{d8.push.apply(d8,d6)
}}this.sigBytes+=d5;return this},clamp:function(){var d5=this.words,d6=this.sigBytes;d5[d6>>>2]&=4294967295<<32-8*(d6%4);d5.length=d4.ceil(d6/4)},clone:function(){var d5=e.clone.call(this);d5.words=this.words.slice(0);return d5},random:function(d5){for(var d7=[],d6=0;d6<d5;d6+=4){d7.push(4294967296*d4.random()|0)}return new dT.init(d7,d5)}}),d1=dW.enc={},d3=d1.Hex={stringify:function(d5){var d6=d5.words;d5=d5.sigBytes;for(var d9=[],d8=0;d8<d5;d8++){var d7=d6[d8>>>2]>>>24-8*(d8%4)&255;d9.push((d7>>>4).toString(16));d9.push((d7&15).toString(16))}return d9.join("")},parse:function(d5){for(var d6=d5.length,d8=[],d7=0;d7<d6;d7+=2){d8[d7>>>3]|=parseInt(d5.substr(d7,2),16)<<24-4*(d7%8)}return new dT.init(d8,d6/2)}},d0=d1.Latin1={stringify:function(d5){var d6=d5.words;d5=d5.sigBytes;for(var d8=[],d7=0;d7<d5;d7++){d8.push(String.fromCharCode(d6[d7>>>2]>>>24-8*(d7%4)&255))}return d8.join("")},parse:function(d5){for(var d6=d5.length,d8=[],d7=0;d7<d6;d7++){d8[d7>>>2]|=(d5.charCodeAt(d7)&255)<<24-8*(d7%4)}return new dT.init(d8,d6)}},d2=d1.Utf8={stringify:function(d5){try{return decodeURIComponent(escape(d0.stringify(d5)))}catch(d6){throw Error("Malformed UTF-8 data")}},parse:function(d5){return d0.parse(unescape(encodeURIComponent(d5)))}},dZ=dX.BufferedBlockAlgorithm=e.extend({reset:function(){this._data=new dT.init;this._nDataBytes=0},_append:function(d5){"string"==typeof d5&&(d5=d2.parse(d5));this._data.concat(d5);this._nDataBytes+=d5.sigBytes},_process:function(d6){var d8=this._data,eb=d8.words,ea=d8.sigBytes,d9=this.blockSize,d5=ea/(4*d9),d5=d6?d4.ceil(d5):d4.max((d5|0)-this._minBufferSize,0);d6=d5*d9;ea=d4.min(4*d6,ea);if(d6){for(var d7=0;d7<d6;d7+=d9){this._doProcessBlock(eb,d7)}d7=eb.splice(0,d6);d8.sigBytes-=ea}return new dT.init(d7,ea)},clone:function(){var d5=e.clone.call(this);d5._data=this._data.clone();return d5},_minBufferSize:0});dX.Hasher=dZ.extend({cfg:e.extend(),init:function(d5){this.cfg=this.cfg.extend(d5);this.reset()},reset:function(){dZ.reset.call(this);this._doReset()},update:function(d5){this._append(d5);this._process();return this},finalize:function(d5){d5&&this._append(d5);return this._doFinalize()},blockSize:16,_createHelper:function(d5){return function(d6,d7){return(new d5.init(d7)).finalize(d6)}},_createHmacHelper:function(d5){return function(d6,d7){return(new dY.HMAC.init(d5,d7)).finalize(d6)}}});var dY=dW.algo={};return dW}(Math);(function(d2){function dU(d6,d7,d4,d9,d5,d8,d3){d6=d6+(d7&d4|~d7&d9)+d5+d3;return(d6<<d8|d6>>>32-d8)+d7}function dW(d6,d7,d4,d9,d5,d8,d3){d6=d6+(d7&d9|d4&~d9)+d5+d3;return(d6<<d8|d6>>>32-d8)+d7}function dX(d6,d7,d4,d9,d5,d8,d3){d6=d6+(d7^d4^d9)+d5+d3;return(d6<<d8|d6>>>32-d8)+d7}function dV(d6,d7,d4,d9,d5,d8,d3){d6=d6+(d4^(d7|~d9))+d5+d3;return(d6<<d8|d6>>>32-d8)+d7}for(var e=bZ,dT=e.lib,dZ=dT.WordArray,d1=dT.Hasher,dT=e.algo,dY=[],d0=0;64>d0;d0++){dY[d0]=4294967296*d2.abs(d2.sin(d0+1))|0}dT=dT.MD5=d1.extend({_doReset:function(){this._hash=new dZ.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(ek,eh){for(var ep=0;16>ep;ep++){var ej=eh+ep,d6=ek[ej];ek[ej]=(d6<<8|d6>>>24)&16711935|(d6<<24|d6>>>8)&4278255360}var ep=this._hash.words,ej=ek[eh+0],d6=ek[eh+1],ei=ek[eh+2],ef=ek[eh+3],ed=ek[eh+4],eb=ek[eh+5],d9=ek[eh+6],d8=ek[eh+7],d7=ek[eh+8],d5=ek[eh+9],d4=ek[eh+10],d3=ek[eh+11],eg=ek[eh+12],ee=ek[eh+13],ec=ek[eh+14],ea=ek[eh+15],eo=ep[0],en=ep[1],em=ep[2],el=ep[3],eo=dU(eo,en,em,el,ej,7,dY[0]),el=dU(el,eo,en,em,d6,12,dY[1]),em=dU(em,el,eo,en,ei,17,dY[2]),en=dU(en,em,el,eo,ef,22,dY[3]),eo=dU(eo,en,em,el,ed,7,dY[4]),el=dU(el,eo,en,em,eb,12,dY[5]),em=dU(em,el,eo,en,d9,17,dY[6]),en=dU(en,em,el,eo,d8,22,dY[7]),eo=dU(eo,en,em,el,d7,7,dY[8]),el=dU(el,eo,en,em,d5,12,dY[9]),em=dU(em,el,eo,en,d4,17,dY[10]),en=dU(en,em,el,eo,d3,22,dY[11]),eo=dU(eo,en,em,el,eg,7,dY[12]),el=dU(el,eo,en,em,ee,12,dY[13]),em=dU(em,el,eo,en,ec,17,dY[14]),en=dU(en,em,el,eo,ea,22,dY[15]),eo=dW(eo,en,em,el,d6,5,dY[16]),el=dW(el,eo,en,em,d9,9,dY[17]),em=dW(em,el,eo,en,d3,14,dY[18]),en=dW(en,em,el,eo,ej,20,dY[19]),eo=dW(eo,en,em,el,eb,5,dY[20]),el=dW(el,eo,en,em,d4,9,dY[21]),em=dW(em,el,eo,en,ea,14,dY[22]),en=dW(en,em,el,eo,ed,20,dY[23]),eo=dW(eo,en,em,el,d5,5,dY[24]),el=dW(el,eo,en,em,ec,9,dY[25]),em=dW(em,el,eo,en,ef,14,dY[26]),en=dW(en,em,el,eo,d7,20,dY[27]),eo=dW(eo,en,em,el,ee,5,dY[28]),el=dW(el,eo,en,em,ei,9,dY[29]),em=dW(em,el,eo,en,d8,14,dY[30]),en=dW(en,em,el,eo,eg,20,dY[31]),eo=dX(eo,en,em,el,eb,4,dY[32]),el=dX(el,eo,en,em,d7,11,dY[33]),em=dX(em,el,eo,en,d3,16,dY[34]),en=dX(en,em,el,eo,ec,23,dY[35]),eo=dX(eo,en,em,el,d6,4,dY[36]),el=dX(el,eo,en,em,ed,11,dY[37]),em=dX(em,el,eo,en,d8,16,dY[38]),en=dX(en,em,el,eo,d4,23,dY[39]),eo=dX(eo,en,em,el,ee,4,dY[40]),el=dX(el,eo,en,em,ej,11,dY[41]),em=dX(em,el,eo,en,ef,16,dY[42]),en=dX(en,em,el,eo,d9,23,dY[43]),eo=dX(eo,en,em,el,d5,4,dY[44]),el=dX(el,eo,en,em,eg,11,dY[45]),em=dX(em,el,eo,en,ea,16,dY[46]),en=dX(en,em,el,eo,ei,23,dY[47]),eo=dV(eo,en,em,el,ej,6,dY[48]),el=dV(el,eo,en,em,d8,10,dY[49]),em=dV(em,el,eo,en,ec,15,dY[50]),en=dV(en,em,el,eo,eb,21,dY[51]),eo=dV(eo,en,em,el,eg,6,dY[52]),el=dV(el,eo,en,em,ef,10,dY[53]),em=dV(em,el,eo,en,d4,15,dY[54]),en=dV(en,em,el,eo,d6,21,dY[55]),eo=dV(eo,en,em,el,d7,6,dY[56]),el=dV(el,eo,en,em,ea,10,dY[57]),em=dV(em,el,eo,en,d9,15,dY[58]),en=dV(en,em,el,eo,ee,21,dY[59]),eo=dV(eo,en,em,el,ed,6,dY[60]),el=dV(el,eo,en,em,d3,10,dY[61]),em=dV(em,el,eo,en,ei,15,dY[62]),en=dV(en,em,el,eo,d5,21,dY[63]);
ep[0]=ep[0]+eo|0;ep[1]=ep[1]+en|0;ep[2]=ep[2]+em|0;ep[3]=ep[3]+el|0},_doFinalize:function(){var d5=this._data,d6=d5.words,d3=8*this._nDataBytes,d7=8*d5.sigBytes;d6[d7>>>5]|=128<<24-d7%32;var d4=d2.floor(d3/4294967296);d6[(d7+64>>>9<<4)+15]=(d4<<8|d4>>>24)&16711935|(d4<<24|d4>>>8)&4278255360;d6[(d7+64>>>9<<4)+14]=(d3<<8|d3>>>24)&16711935|(d3<<24|d3>>>8)&4278255360;d5.sigBytes=4*(d6.length+1);this._process();d5=this._hash;d6=d5.words;for(d3=0;4>d3;d3++){d7=d6[d3],d6[d3]=(d7<<8|d7>>>24)&16711935|(d7<<24|d7>>>8)&4278255360}return d5},clone:function(){var d3=d1.clone.call(this);d3._hash=this._hash.clone();return d3}});e.MD5=d1._createHelper(dT);e.HmacMD5=d1._createHmacHelper(dT)})(Math);var bN=function(){return M[aO()(99,111,111,107,105,101)]};var aA=function(){dH();var e={c:dn()};return aV(JSON.stringify(e))};var cO=function(){var e=o();return(e===bR||e===null)?cD:e};var dn=function(){var e=[];for(var dT in cp.cookies){if(!Object.prototype.hasOwnProperty.call(cp.cookies,dT)){continue}e.push(dT+"="+cp.cookies[dT])}return e.join("; ")};var dH=function(){var e=m();for(var dT in e){if(!Object.prototype.hasOwnProperty.call(e,dT)){continue}cp.cookies[dT]=e[dT]}};var ay=function(e){dD(di,e,bK());cp.source.marker=e};var av=function(){return i(di)};var g=function(){bx(cx.roistat.page.params,function(dT,e){cp.pageParams[dT]=e})};var m=function(){var dV=bN();var dW=dV.split("; ");var e={};for(var dU=0;dU<dW.length;dU++){var dZ=dW[dU];if(dZ===""){continue}var dT=dZ.split("=");if(dT.length<2){continue}var dY=dT[0].trim();var dX=dT[1].trim();e[dY]=dX}return e};var h=function(){return aO()(104,97,115,104)};var aU=function(e){return e.split("http://").join("").split("https://").join("").split("#")[0].split("?")[0].split("www.").join("").replace(/\/+$/,"")};var ck={isAvailable:function(){var dT=false;try{if(!cx.sessionStorage||!cx.sessionStorage.setItem||!cx.sessionStorage.getItem||!cx.sessionStorage.removeItem){return dT}cx.sessionStorage.setItem("roistat_testKey","testValue");dT=cx.sessionStorage.getItem("roistat_testKey")==="testValue";cx.sessionStorage.removeItem("roistat_testKey")}catch(dU){return false}return dT},remove:function(e){if(this.isAvailable()){cx.sessionStorage.removeItem(ct(e))}},setObject:function(e,dT){if(this.isAvailable()){cx.sessionStorage.setItem(ct(e),JSON.stringify(dT))}},getObject:function(dT){var e=null;if(this.isAvailable()){e=cx.sessionStorage.getItem(ct(dT));e=JSON.parse(e)}return e},set:function(e,dT){if(this.isAvailable()){cx.sessionStorage.setItem(ct(e),dT)}},get:function(dT){var e=null;if(this.isAvailable()){e=cx.sessionStorage.getItem(ct(dT))}return e}};var cu={fallbackData:{},isAvailable:function(){var dT=false;try{if(!cx.localStorage||!cx.localStorage.setItem||!cx.localStorage.getItem||!cx.localStorage.removeItem){return dT}cx.localStorage.setItem("roistat_testKey","testValue");dT=cx.localStorage.getItem("roistat_testKey")==="testValue";cx.localStorage.removeItem("roistat_testKey")}catch(dU){return false}return dT},remove:function(dT){if(this.isAvailable()){cx.localStorage.removeItem(ct(dT))}else{var e=new Date(1970,1,1);dD(dT,"",{expires:e.toUTCString()})}delete this.fallbackData[ct(dT)]},setObject:function(e,dT){if(this.isAvailable()){localStorage.setItem(ct(e),JSON.stringify(dT))}this.fallbackData[ct(e)]=dT},getObject:function(dU){var e=null;if(this.isAvailable()){e=localStorage.getItem(ct(dU));e=dv(e)}if(e===null){var dT=this.fallbackData[ct(dU)];if(typeof dT!=="undefined"){e=dT}}return e},set:function(e,dT){if(this.isAvailable()){localStorage.setItem(ct(e),dT)}else{if(this.isSaveInCookieEnabled()){dD(e,dT,c9)}}this.fallbackData[ct(e)]=dT},save:function(dT,dU,e){if(this.isAvailable()){localStorage.setItem(ct(dT),dU)}dD(dT,dU,e);this.fallbackData[ct(dT)]=dU},get:function(dT){var e=null;if(this.isAvailable()){e=localStorage.getItem(ct(dT))}if(e===null){e=i(dT)}if(typeof e==="undefined"){e=this.fallbackData[ct(dT)]}return e},isSaveInCookieEnabled:function(){return this.get(bo)>0},isExternalCountersEnabled:function(){return this.get(E)>0}};var ch=function(){return !cg(M.referrer)?M.referrer:null};var Z=function(e){return typeof e==="function"};var dP=function(e){return typeof e==="object"};var ba=function(e){return typeof e==="string"};var af=function(dV,dU){dU=typeof dU!=="undefined"?dU:false;var dW=function(dZ){var dY=null;var d0=new RegExp("[#&?]("+dV+"=[^#&?]+)");if(d0.test(dZ)){dY=RegExp.$1.substring(RegExp.$1.indexOf("=")+1)}var dX=aM(dY);return dY&&dX?dX:dY};var e=dW(cL);if(dU){var dT=M.referrer;if(e===null&&dT){e=dW(dT)}}return e};var dm=function(dT,dU){var e=false;if(dT&&dU){e=dT.split(dU).join("")!==dT}return e};if(af(co)==="1"||m()[co]==="1"){bC=true}var cY=function(){return true};var aS=function(){return cY()?cx.roistatMultiWidgetOnly:cx.roistatOnlineChatOnly};var dG=function(){var dT=bf()==="86ee03e4ba0f978620d7a0ee0e2e51dc"||bf()==="4";var e=(cx.location.host==="cloud.roistat.com"||cx.location.host==="cloud-eu.roistat.com")&&cx.location.pathname!=="/user/login"&&cx.location.pathname!=="/user/register";
var dV=bf()==="349ac99f64416756d4a18e91c71dc95f";var dU=cx.location.host==="datyson.ru"&&cx.location.pathname==="/cloud.html";if((dT&&!e)||(dV&&!dU)){z("Current project is Roistat but page is not cloud.roistat.com. Drop init multiwidget");return true}return false};var bk=function(){if("https:"===M.location.protocol){return"https:"}else{return"http:"}};var Y=function(dT){var e=M.createElement("img");e.src=dT;z("sendRequestByUrl: "+dT)};var a6=function(dT,dV){z("sendApiRequestJSONP: init with url "+dT);var e=M.createElement("script");e.onload=e.onreadystatechange=function(){var dW=this.readyState?this.readyState:"unknown";z("sendApiRequestJSONP: script state changed to "+dW)};e.src=dT;if(dV){e.setAttribute("data-roistat-script-id",dV)}e.type="text/javascript";e.async=true;var dU=M.getElementsByTagName("script")[0];dU.parentNode.insertBefore(e,dU);z("sendApiRequestJSONP: script appended")};var ca=function(){if(cp.isCssLoaded){return}(function(){var dT=M.createElement("link"),e=M.getElementsByTagName("head");dT.setAttribute("rel","stylesheet");dT.setAttribute("href",bk()+"//"+x+"/dist/module.css?"+ac);if(e.length>0){cp.isCssLoaded=true;e[0].appendChild(dT)}})()};var cz=function(){return cE()||dN()};var cE=function(){return bs()!==null};var dN=function(){return cw()!==null};var dg=function(){var e=dc();if(e!==null){dD(cn,e,bK())}};var dc=function(){return bs()||cw()||null};var bs=function(){return af("roistat_visit")};var cw=function(){return cp.visitFromUser};var a=function(dT,e){if(!e&&(cp.isSettingsUpdating||!M.hasFocus())){z("Already updating settings or document not in focus, return");return}var dU=S()+"/get-settings?v="+ac+"&visit="+dT;z("Request new settings");cp.isSettingsUpdating=true;a6(dU)};var a2=function(){return cu.get(bb)>0};var dx=function(){cu.set(bb,1)};var aH=function(){cu.remove(cc);cu.remove(bF);cu.remove(cb);cu.remove(bB);cu.remove(D);cu.remove(c1);cu.remove(dj);cu.remove(f)};var cq=function(){var dW=function(){return cu.get(cQ)};var dV=function(){cu.set(cQ,B)};var dT=function(){return typeof dW()==="string"};var e=function(){var dX=Number(dW())>B;z("Settings Version: settings version change status - "+dX);return dX};var dU=function(){var dX=1000*60*60*24;var d0=ds();var dZ=cB()-d0;var dY=dZ>dX;z("Settings Version:: expiration day check: lastUpdateTime="+d0+", _lastUpdateTimeDiff="+dZ+", _oneDayDiffInMs="+dX+", result="+(dY?1:0));return dY};if(!dT()){z("Settings Version: set settings version up to 1");dV()}if(dU()||e()){z("Settings Version: clear settings");aH()}};var dI=function(){z("Call: Init");z("Counter version: "+ac);if(af("roistat_ab_demo")==="1"){z("Roistat initialisation rejected: ab test preview mode");return}bv();cX();if((!ax()||dO())&&!aS()){dh=true;bU();I("Created new visit_id: "+o()+" and referrer: "+k)}else{cq();dg();var dT=o();I("Init visit with new visit_id, visit_id: "+dT+" and referrer: "+k);b1();bi();dd();roistat.visit=dT;cp.source.marker=av();cx.roistat.geo=cu.getObject(l);var dU=cu.isAvailable()&&a2();if(!dU){a(dT)}else{c3()}}cN(dw);cN(dR);var e=bf()==="86ee03e4ba0f978620d7a0ee0e2e51dc"||bf()==="4";if(e){cN(roistat.setDeviceParams)}};var dw=function(){z("InitExternalCounter");if(!cu.isExternalCountersEnabled()){z("ExternalCounters is not available, return");return}var dU=bf();var dT=J();var dX=dT?dT:o();var dW=dU+":"+dX;var e=dU+":"+bZ.MD5(bj(M.domain)).toString();var dV=function(d0,dY){var dZ=(M.location.protocol==="https:"?"https:":"http:")+"//tech.rtb.mts.ru/roistat?landing="+dY+"&event_type=view&user_id="+d0;var d1=new XMLHttpRequest;d1.open("GET",dZ,true);d1.withCredentials=true;d1.onload=function(){if(d1.readyState===4){if(d1.status!==204){console.error(d1.statusText)}}};d1.onerror=function(){console.error(d1.statusText)};d1.send(null)};dV(dW,e);z("InitExternalCounter: script appended")};var Q=function(dU){if(!dU.isEnabled){return true}var e=new Date();var d1=new Date().toISOString();var dY=e.getUTCDay()===0?7:e.getDay();var dZ=dY===6||dY===7;var d0=false;for(var dW=0;dW<dU.days.length;dW++){if(dY===dU.days[dW]){d0=true}}if(!d0){return false}if(dZ&&dU.weekendsTime!==null){var d2=new Date(dU.weekendsTime.from).toISOString();var dV=new Date(dU.weekendsTime.to).toISOString();return d1>=d2&&d1<=dV}var dX=new Date(dU.weekdaysTime.from).toISOString();var dT=new Date(dU.weekdaysTime.to).toISOString();return d1>=dX&&d1<=dT};var bv=function(){z("Call: initMarker");bI=cC();z("Call: inited marker: "+bI)};var cX=function(){z("Call: initReferrer");k=ch();z("Call: end initReferrer: "+k)};var dR=function(){z("Call: parsing roistat params from url");var dV={};for(var dU=1;dU<=dr;dU++){var dT="roistat_param"+dU;dV[dT]=af(dT,false)}var e=be(dV);if(aZ(e)&&Object.keys(e).length>0){bl(e)}z("Call: end parsing roistat params from url")};var cg=function(dU){if(!dU){return true}var e=bj(dU);var dT=bj(M.domain);if(e===dT){return true}var dV=b9();if(dV===null){return false}if(dm(e,dV)&&dm(dT,dV)){return true}return false};var b9=function(){if(typeof c9.domain==="string"&&c9.domain!==""){return bj(c9.domain)
}return null};var bj=function(e){var dT=e.split("http://").join("").split("https://").join("").split("www.").join("").replace(/^\./,"");return dT.split("/")[0]};var cC=function(){var dU=i(j)>0;var dZ=null;var e=function(d0){return d0.split("_").join(":u:")};var dV=function(){var d0=false;var d1;d1=af(N,dU);if(d1!==null){dZ=d1;d0=true}d1=af(cU,dU);if(d1!==null){dZ=d1;d0=true}return d0};var dY=function(){var d0=false;var d1=av();if(d1){dZ=d1;d0=true;cF=false}return d0};var dT=function(){var d0=false;var d2=af("utm_source",dU);if(d2!==null){d0=true;dZ=":utm:"+e(d2);var d4=["utm_medium","utm_campaign","utm_content","utm_term"];var d1;for(var d3=0;d3<d4.length;d3++){d1=af(d4[d3],dU);if(d1!==null){dZ=dZ+"_"+e(d1)}}}return d0};var dX=function(){var d2,d1,d0=false;d1=af("_openstat",dU);if(!d1){return false}if(dW(d1)){d2=d1}else{d2=encodeURI(cA.decode(d1));if(!dW(d2)){d2=d1}}if(d2){d2=e(d2).split(";").join("_");dZ=":openstat:"+d2;d0=true}return d0};var dW=function(d0){return d0.match(/^([^;]*(;[^;]*){3})$/)!==null};if(dV()){z("Init marker: init from RS param "+dZ);return dZ}if(dT()){z("Init marker: init from UTM "+dZ);return dZ}if(dX()){z("Init marker: init from OpenStat "+dZ);return dZ}z("Init marker: try init from cookie "+dZ);dY();return dZ};var o=function(){return cu.get(cn)};var J=function(){return cu.get(a7)};var ah=function(){z("Call: saveReferrer");cu.set(aP,k)};var cj=function(){z("Call: removeReferrer");cu.remove(aP)};var du=function(){dD(bq,aM(bI),bK())};var dd=function(){z("Call: refreshPromoCode");if(aS()){z("PromoCode: Shut down because only online chat need to be inited");return}var e=function(){return i(cn)};aD(e());if(!cx.onload){cx.onload=function(){aD(e())}}setTimeout(function(){aD(e())},50);setTimeout(function(){aD(e())},200);setTimeout(function(){aD(e())},2000);setTimeout(function(){aD(e())},10000)};cx.roistatPromoCodeRefresh=dd;var dz=function(){var e=[];var dT=M.getElementsByClassName(aq);if(dT&&dT.length){e=dT}return e};var aD=function(e){var dV=dz();z("setPromoCode: "+e+" in "+dV.length+" elements");for(var dU=0;dU<dV.length;dU++){var dT=dV[dU];dT.innerHTML=e?e:""}};var bX=function(){var dU=cC(),dT=i(bq),dW=dU!==null,dV=true;var dY=aM(aM(dU)).toLowerCase().split("+").join(" "),dX=aM(aM(dT)).toLowerCase().split("+").join(" ");if(dU&&dT){dV=dY!==dX}var e=dW&&dV;a4="Call: needOverrideByMarker (result "+(e?"true":"false")+") with current "+dU+":"+dY+" and old "+dT+":"+dX;z(a4);return e};var aT=function(){var dT=function(d1){return/[\u0400-\u04FF]/.test(d1)};var d0=false,dX=k,e=cu.get(aP),dZ=cx.location.host;if(!dX||!dZ){z("Call: needOverrideByReferrer (result "+(d0?"true":"false")+"), skip because one of params is empty");return d0}dZ=bj(dZ);dX=aM(dX);e=aM(e);var dV=bj(dX);if(dm(dX,"xn--")&&dT(dZ)){z("Call: needOverrideByReferrer (result "+(d0?"true":"false")+"), skip because of bugs with punycode in FF");return d0}if(!dV){z("Call: needOverrideByReferrer (result "+(d0?"true":"false")+"), skip because current referrer is null");return d0}if(!e){d0=!dm(dV,dZ);z("Call: needOverrideByReferrer (result "+(d0?"true":"false")+"), compare current referrer and host");return d0}if(dm(dX,e)){z("Call: needOverrideByReferrer (result "+(d0?"true":"false")+"), skip because the same referrer");return d0}var dY=dZ.split(".").length>2&&dV.split(".").length>2;var dW=cx.roistatCookieDomain!==bR&&cx.roistatCookieDomain!==dZ;var dU=dV.split(".").slice(1).join(".")===dZ.split(".").slice(1).join(".");if(dY&&dW&&dU){z("Call: needOverrideByReferrer (result "+(d0?"true":"false")+"), skip because sub domains of same domain");return d0}d0=!(dm(dV,dZ)||(dm(dZ,dV)));z("Call: needOverrideByReferrer (result "+(d0?"true":"false")+") referrerHost: "+dV+", currentHost: "+dZ);return d0};var b2=function(){return af("utm_nooverride")==="1"};var dO=function(){return !cz()&&!b2()&&(bX()||aT())};var b3=function(dT,e){return(dT&&e&&dT!=e)};var bn=function(dV){var dT=["cookieExpire"];var dX=dV.leadHunterEnabled;if(Number(cu.get(bS))!==Number(dV.leadHunterEnabled)){cu.set(bS,Number(dV.leadHunterEnabled))}if(dX){var dW={expires:T,path:"/"};if(c9.domain){dW.domain=c9.domain}dD(ai,1,dW)}for(var dU in dV){if(!Object.prototype.hasOwnProperty.call(dV,dU)){continue}if(!dX&&dU.indexOf("leadHunter")>=0&&dU.indexOf("leadHunterTargetPagesMap")===-1){continue}if(!aC(dT,dU)){if(dU.indexOf("leadHunterTargetPagesMap")!==-1){var e=dv(dV[dU]);if(e!==null){cu.setObject("roistat_"+dU,e)}continue}cu.set("roistat_"+dU,dV[dU])}}};var da=function(e){if(!e){return}roistat.multiwidget={isEnabled:e.is_enabled,isVisible:roistat.multiwidget.isVisible,vk:{isEnabled:e.vk.is_enabled,link:roistat.multiwidget.vk.link||e.vk.link},fb:{isEnabled:e.fb.is_enabled,link:roistat.multiwidget.fb.link||e.fb.link},telegram:{isEnabled:e.telegram.is_enabled,link:roistat.multiwidget.telegram.link||e.telegram.link},whatsApp:{isEnabled:e.whats_app.is_enabled,link:roistat.multiwidget.whatsApp.link||e.whats_app.link},viber:{isEnabled:e.viber.is_enabled,link:roistat.multiwidget.viber.link||e.viber.link}};
if(Number(cu.get(bm))!==Number(e.is_enabled)){cu.set(bm,Number(e.is_enabled))}if(Number(cu.get(ce))!==Number(e.vk.is_enabled)){cu.set(ce,Number(e.vk.is_enabled))}if(cu.get(c4)!==roistat.multiwidget.vk.link){cu.set(c4,roistat.multiwidget.vk.link)}if(Number(cu.get(U))!==Number(e.fb.is_enabled)){cu.set(U,Number(e.fb.is_enabled))}if(cu.get(dp)!==roistat.multiwidget.fb.link){cu.set(dp,roistat.multiwidget.fb.link)}if(Number(cu.get(cP))!==e.telegram.is_enabled){cu.set(cP,Number(e.telegram.is_enabled))}if(cu.get(bA)!==roistat.multiwidget.telegram.link){cu.set(bA,roistat.multiwidget.telegram.link)}if(Number(cu.get(c0))!==e.whats_app.is_enabled){cu.set(c0,Number(e.whats_app.is_enabled))}if(cu.get(bQ)!==roistat.multiwidget.whatsApp.link){cu.set(bQ,roistat.multiwidget.whatsApp.link)}if(Number(cu.get(dS))!==e.viber.is_enabled){cu.set(dS,Number(e.viber.is_enabled))}if(cu.get(cS)!==roistat.multiwidget.viber.link){cu.set(cS,roistat.multiwidget.viber.link)}cu.setObject(au,e)};var cy=function(e){roistat.onlineChat.isEnabled=e.is_enabled;if(Number(cu.get(c1))!==Number(e.is_enabled)){cu.set(c1,Number(e.is_enabled))}roistat.onlineChat.isAvailableForCurrentUserAgent=e.advanced_settings.is_available_for_current_user_agent;roistat.onlineChat.pagesFilter=e.advanced_settings.pages_filter;cu.setObject(C,e.advanced_settings)};var v=function(e){cx.roistat.geo=e;cu.setObject(l,e)};var cJ=function(e){z("PromoCode: save settings");cu.setObject(a0,e)};var dJ=function(dW,dY,dV,dT,dX,e,dZ,dU){bn(dW);roistat.callTracking.enabled=dY.is_enabled;roistat.emailtracking.loaded=true;roistat.emailtracking.email=dV.email;roistat.emailtracking.trackingEmail=dV.trackingEmail;roistat.emailtracking.emails=dV.emails;roistat.proxyForms.loaded=true;roistat.proxyForms.settings=dX;da(e);cy(dZ);v(dT);cJ(dU)};cx.roistatModuleSetVisitCookie=function(dX,d5,dV,dT,d4,d0,e,d7,dZ,d6){z("Call: roistatModuleSetVisitCookie("+dX+")");var d1;if(typeof dV.cookieExpire!=="number"){d1=bK().expires}else{d1=dV.cookieExpire}var dY=i(cn);var d3={expires:d1,path:"/"};if(c9.domain){d3.domain=c9.domain}cu.save(cn,dX,d3);if(!cu.get(a7)){var dU={expires:10*365*24*60*60,path:"/"};if(c9.domain){dU.domain=c9.domain}cu.save(a7,dX,dU)}var d2=dV.abTests;if((typeof d2!=="undefined")&&cu.isAvailable()){cu.setObject("abTesting",d2)}applyTests();var dW=dV.isNeedToListenRequests;if((typeof dW!=="undefined")&&cu.isAvailable()){cu.set(aw,dW)}aD(dX);if(d5){ay(d5);dD(bq,d5,d3)}if(cx.roistatCallback!==bR){cx.roistatCallback(dX,d5)}if(!d7){d7={}}dJ(dV,dT,d4,d0,e,d7.multiwidget_settings,dZ,d6);roistat.callTracking.phone=dT.phone;roistat.callTracking.sessionTime=dT.sessionTime;roistat.callTracking.replacementClasses=dT.replacementClasses;roistat.callTracking.phoneScriptsJson=dT.scripts;roistat.callTracking.rawPhone=dT.raw_phone;roistat.visit=dX;z("Call: pre renderPromoCode");bi();dd();if(b3(dY,dX)){z("roistatModuleSetVisitCookie: visit changed from "+dY+" to "+dX)}dq();dx();c3()};cx.roistatUpdateSettings=function(e){z("Set settings.");cp.isSettingsUpdating=false;dJ(e.js_settings,e.calltracking,e.emailtracking,e.geo,e.proxy_forms,e.multiwidget.multiwidget_settings,e.online_chat,e.promo_code);dx();c3()};var ax=function(){var e;if(cx.roistatIsInitVisit===true){e=false}else{e=cu.get(cn)>0}z("Call: alreadyVisited (return "+(e?"true":"false")+")");return e};var c=function(e){return encodeURIComponent?encodeURIComponent(e):encodeURI(e)};var bd=function(){return k?c(k):""};var S=function(){return bk()+"//"+x+"/api/site/"+ap+"/"+bf()};var cG=function(){var dT={expires:1,path:"/"};var e={expires:bT,path:"/"};if(c9.domain){dT.domain=c9.domain;e.domain=c9.domain}var dU=i(bJ);if(dU){dD(al,dU,e)}dD(bJ,"",dT);dD(W,"",dT)};var b6=function(){var dT=cu.getObject("abTesting");if(!dP(dT)){return""}var dV,dU,e=[];for(dV in dT){if(!Object.prototype.hasOwnProperty.call(dT,dV)){continue}dU=dT[dV];e.push(dU.id+":"+dU.variantId)}return e.join(",")};var bU=function(){z("Call: setVisitIdCookie");var dT=function(){var d3=bd(),dY=cx.roistatIsInitVisit===true?o():0,d6=i(bJ),d1=i(cf),dX=cu.get(a7);d6=d6?d6:"";dX=dX?dX:"";bI=bI&&(!aT()||cF)?aM(aM(bI)):"";I("Init visit with visit id from cookie, visit_id: "+dY+" and referrer: "+d3+" calculateApiUrl marker: "+bI);var d2=encodeURIComponent(cL);z("Calltracking: enabled="+cd.callTrackingEnabled+",manual="+cd.callTrackingManual);var d4=JSON.stringify(cx.roistat.page.params);var d0=A();var dW="";for(var dZ in d0){if(!d0.hasOwnProperty(dZ)){continue}var d5=d0[dZ];if(d5!==null){dW+="&"+dZ+"="+encodeURIComponent(d5)}}return S()+"/addVisit?v="+ac+"&marker="+encodeURIComponent(bI)+"&visit="+dY+"&first_visit="+dX+"&guid="+d1+"&phone_prefix="+cV+"&phone_prefix_bind="+dL+"&phone_scripts_bind="+X+"&referrer="+d3+"&page="+d2+"&ab="+c(d6)+"&ab_variants="+c(b6())+"&"+h()+"="+aA()+(d4==="{}"?"":"&page_params="+encodeURIComponent(d4))+((!cd.callTrackingEnabled||cd.callTrackingManual)?"&call_tracking_disabled=1":"")+dW};var e=function(dW){setTimeout(function(){z("Call: setVisitIdCookie script creation after timeout");
var dX=M.createElement("script");dX.onload=dX.onreadystatechange=function(){var dZ=this.readyState?this.readyState:"unknown";z("Call: setVisitIdCookie script state changed to "+dZ)};dX.src=dW;dX.type="text/javascript";dX.async=true;dX.id=ae;var dY=M.getElementsByTagName("script")[0];dY.parentNode.insertBefore(dX,dY);z("Call: setVisitIdCookie appended "+((M.getElementById(ae))?"true":"false"));z("Call: sendJSONPRequest to URL "+dW);cG()},cd.jsonpRequestTimeout)};if(bI){ay(bI);du()}var dV=i(a1);if(dV){dD(cf,dV,c9)}aI();var dU=dT();e(dU);k?ah():cj()};var b1=function(){z("Call: sendAbTests");var dU=function(){var dY=bf(),dX=i(cn);return bk()+"//"+x+"/site-api/"+aQ+"/"+dY+"/visit/"+dX+"/addAbVariant"};var dV=i(bJ);var dT=i(al);if(dV===dT||!dV){cG();return}var dW=dU();dW=dW+"?ab="+c(dV);var e=M.createElement("img");e.src=dW;cG()};var a3={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return(a3.Android()||a3.BlackBerry()||a3.iOS()||a3.Opera()||a3.Windows())}};var bc={isIE:function(dU,dW){var dX="IE",dT=M.createElement("B"),e=M.documentElement,dV;if(dU){dX+=" "+dU;if(dW){dX=dW+" "+dX}}dT.innerHTML="<!--[if "+dX+']><b id="iecctest"></b><![endif]-->';e.appendChild(dT);dV=!!M.getElementById("iecctest");e.removeChild(dT);return dV},isSafari:function(){var e=cx.navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")}};var ds=function(){return cu.get(ag)};var ak=function(){var e="";cx.onerror=function(dY,dX,dU,dW,dV){var dT=!dW?"":", column: "+dW;dT+=!dV?"":", error: "+dV;e=e+", Error: "+dY+", url: "+dX+", line: "+dU+dT};setTimeout(function(){var d0=false,d1="";var dW=dz();for(var dZ=0;dZ<dW.length;dZ++){var dV=dW[dZ];if(dV!==null&&!dV.innerHTML){d0=true;d1="Promo HTML: "+dV.innerHTML}}if(!(i(cn)>0)){d0=true;d1=d1+"; roistat_visit = "+i(cn)}if(d0){var dU=M.getElementById(ae);var dT=dU?1:0;var dX=cx.navigator.userAgent;d1=encodeURIComponent(d1);var dY=M.createElement("img");dY.src=bk()+"//"+x+"/site-api/"+aQ+"/"+bf()+"/debug?message="+d1+"&agent="+dX+"&"+h()+"="+aA()+"&jserror="+e+"&scriptResponse="+dT+"&version="+ac+"&debug="+br}},20000)};var bO=function(){var dU=M.getElementsByTagName("body");var dV=M.documentElement;var dT=0,dW=0;if(dU.length){var e=dU[0];dT=cx.innerWidth||dV.clientWidth||e.clientWidth;dW=cx.innerHeight||dV.clientHeight||e.clientHeight}else{dT=cx.innerWidth||dV.clientWidth;dW=cx.innerHeight||dV.clientHeight}return{width:dT,height:dW}};var bi=function(){var dY=M.getElementsByClassName("roistat-promo-wrap");if(dY.length){z("PromoCode: old promo code length - exit");return}if(aS()){z("PromoCode: Shut down because only online chat need to be inited");return}var dX=cu.getObject(a0);if(dX&&dX.hasOwnProperty("is_enabled")){cx.roistat.promoCode.isEnabled=dX.is_enabled;z("PromoCode: set is_enabled from storage")}var dV=function(){var d5=M.createElement("div");d5.innerHTML=roistatPromoCode;var d3=M.getElementsByTagName("body");if(d3.length){d3[0].appendChild(d5)}z("PromoCode: appended to body "+roistatPromoCode.length);var d4=M.getElementsByClassName("roistat-promo-wrap")[0];if(!d4){z("PromoCode: roistat-promo-wrap not found, skip");return}var d2=d4.style;var d0,d1,dZ;setInterval(function(){d0=bO();d1=d4.offsetWidth;dZ=d4.offsetHeight*2;switch(roistatPosition){case"top_left":d2.left=0;d2.top=0;break;case"top":d2.left=((d0.width-d1)/2)+"px";d2.top=0;break;case"top_right":d2.right=0;d2.top=0;break;case"left":d2.left=0;d2.top=((d0.height-dZ)/2)+"px";break;case"right":d2.right=0;d2.top=((d0.height-dZ)/2)+"px";break;case"bottom_left":d2.left=0;d2.bottom=0;break;case"bottom":d2.left=((d0.width-d1)/2)+"px";d2.bottom=0;break;case"bottom_right":d2.right=0;d2.bottom=0;break;default:d2.left=0;d2.top=0}},500)};var e=cu.getObject("promo_code_options");if(e){z("PromoCode: options already set");cx.roistatPromoCode=e.template;cx.roistatPosition=e.position;dV()}else{if(!cx.roistat.promoCode.isEnabled){z("PromoCode: is not available, skip");return}var dW=M.getElementsByTagName("head")[0]||M.documentElement;var dU=M.createElement("script");dU.src=bk()+"//"+x+"/site-api/"+aQ+"/"+bf()+"/getPromoCode";dW.insertBefore(dU,dW.firstChild);z("PromoCode: loading started");var dT=false;dU.onload=dU.onreadystatechange=function(){if(!dT&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){dT=true;dU.onload=dU.onreadystatechange=null;if(dW&&dU.parentNode){dW.removeChild(dU)}}if(!dT){return}z("PromoCode: loaded");if(typeof roistatPromoCode==="undefined"||roistatPromoCode.length<1){z("PromoCode: is disabled");return}e={template:roistatPromoCode,position:roistatPosition};cu.setObject("promo_code_options",e);dV()}}};var aC=function(dT,dU){for(var e=0;e<dT.length;e++){if(dT[e]===dU){return true}}return false
};var I=function(dT){if(!ao||dT===""){return}var e=o();dB("visit: "+e+" "+dT)};var dB=function(dT){var e=S()+"/log?log="+encodeURIComponent(dT);a6(e)};var aR=function aR(){var dW=cx.onpopstate;var dX=cx.history.pushState;var e=cx.history.replaceState;an(cx,"popstate",function dV(dY){z("[Roistat]: popstate event catch");cl();if(aj()&&typeof dW==="function"){dW(dY)}});an(cx.history,"pushState",function dU(dZ,d0,dY){z("[Roistat]: pushState event catch");cl();if(aj()&&typeof dX==="function"){dX.apply(this,[dZ,d0,dY])}});an(cx.history,"replaceState",function dT(dZ,d0,dY){z("[Roistat]: replaceState event catch");cl();if(aj()&&typeof e==="function"){e.apply(this,[dZ,d0,dY])}})};(function bY(){aR();if(cx.onRoistatModuleLoaded!==bR&&typeof cx.onRoistatModuleLoaded==="function"){cx.onRoistatModuleLoaded()}})();(function aK(){var dT="fngr.roistat.com";var dX=false;var dW=bf()==="e6b168b42cac9ce8e85d0bdde71e039a";if(!dX&&!dW){z("Fingerprint: disabled");return}cx.roistat.crossdevice={registerFingerprint:function dU(dY){z("Fingerprint: collected data "+JSON.stringify(dY));roistat.registerOnVisitProcessedCallback(function(){z("Fingerprint: sending to service");var dZ=Object.keys(dY).map(function(d1){return dY[d1].key+"="+encodeURIComponent(dY[d1].data)}).join("&");dZ=dZ+"&visit="+bf()+"|"+J()+"|"+roistat.getVisit();dZ+="&host="+encodeURIComponent(cx.location.host);var d0=bk()+"//"+dT+"/register?"+dZ;a6(d0)})},markVisit:function e(dY){z("Fingerprint: marking visit "+dY)}};z("Fingerprint: initialising library");var dV=bk()+"//"+dT+"/static/fingerprint.js";a6(dV)})();var bV=function(dT){var dY=function(d5,d3){var d2;if(dm(d3,"*")){var d4=new RegExp(d3.split("*").join(".*"));d2=d4.test(d5)}else{d2=d5===d3}z("LeadHunter: compare current: "+d5+", setting: "+d3+" with result = "+(d2?1:0));return d2};var e=cx.location.href,dV=false,dU=false,d0="",dW=0,dZ;dZ=dT?dT.split(","):[];if(!e||dZ.length===0){dV=true}else{d0=aU(e);var d1;for(var dX=0;dX<dZ.length;dX++){d1=dZ[dX].split("www.").join("").split("http://").join("").split("https://").join("").replace(/\/+$/,"");if(/^!/.test(d1)){if(dY(d0,d1.split(/^!/).join(""))){dU=true;break}}else{dW++;if(dY(d0,d1)){dV=true;break}}}}if(dU){z('LeadHunter: current page "'+d0+'" is disabled by list');return false}if(!dV&&dW>0){z('LeadHunter: current page "'+d0+'" is not listed');return false}z('LeadHunter: current page "'+e+'", cleaned: "'+d0+'" is not disabled in '+dZ.length+" list of pages");return true};try{dI()}catch(cI){I(cI)}(function bh(){var ei="empty",dZ=false,dT=true,d9=false;var ee={roistat_visit:i(cn),marker:bI,user_agent:cx.navigator.userAgent,current_page:{title:M.title,href:cx.location.protocol+"//"+cx.location.host+cx.location.pathname}};var ej=function(ep,eo,en){if(ep.addEventListener){ep.addEventListener(eo,en,false)}else{if(ep.attachEvent){ep.attachEvent("on"+eo,en)}else{z("Handler could not be attached")}}};var eb=function(ep,en){if(ep===bR||typeof en!=="string"||en.length===0){return}var eo=ep.getElementsByClassName(en);if(eo===bR||eo.length===0){return}return eo[0]};var ek=function(en){return typeof en==="object"&&en!==null};var d0=function(en,ep,eo){if(ek(en)){if(eo){en.classList.add(ep);return}en.classList.remove(ep)}};var el=cx.visualViewport;var d8="visualViewport" in cx;var ec=function(en){return(en===0)?1:en};var em=function(){var en;if(d8){en=1/ec(el.scale)}else{en=cx.innerWidth/ec(cx.outerWidth)}return en};var eg=function(){if(bL()){return"none"}return"scale("+em()+")"};var dY=function(){if(!bL()){return"none"}return"scale("+em()+")"};var ef={leadHunter:function(){var ga="roistat-lh-form",eL="roistat-lh-form",gd="roistat-lh-head-text",eZ="roistat-lh-head",eH="roistat-lh-thank-you",fq="roistat-lh-thank-you",es="roistat-lh-close",et="roistat-lh-submit",e8="roistat-lh-hidden",fP="roistat-lh-wrap",eN="roistat-lh-popup-wrapper",fp="roistat-lh-popup",gc="roistat-lh-agreement",fl="roistat-lh-agreement roistat-lh-mobile",gs="roistat-lh-agreement-input",f1="roistat-lh-agreement-link",en="roistat-lh-agreement-doc",f6="roistat-lh-alert-row",fx="roistat-lh-agreement",fk="roistat-lh-popup-iframe",fA="roistat_leadHunterUrl",f3="roistat_leadHunterAppearanceUrl",fc="roistat_leadHunterTargetPagesList",eG="roistat_leadHunterCaught",fH="roistat_leadHunterMinTime",e3="roistat_leadHunterAutoShowTime",fE="roistat_leadHunterPulsatorEnabled",eX="roistat_leadHunterScriptsCaught",gt="roistat_leadHunterScriptsShownCount",fi="roistat-lh-load-done",eM="roistat-lh-close-modal",fR="roistat-lh-script-settings",fQ="roistat-lh-setting-size",f7="roistat-lh-before-submit",fB="roistat-lh-before-submit-done",gf="roistat-lh-after-submit",fU="roistat-lh-event-data",fV="roistat-lh-translate-form",gp={topLeft:{bottom:"80%",right:"auto",transformOrigin:"top left"},topRight:{bottom:"80%",right:"3%",transformOrigin:"top right"},bottomRight:{bottom:"10%",right:"3%",transformOrigin:"bottom right"},bottomLeft:{bottom:"10%",right:"auto",transformOrigin:"bottom left"}};var eF=0.3,eR=0.001,eI=false,eU=0,eP=0,eV=0,gh=0,eT=0,e9=false,ex=false,gr=false,eS,f5,fs,fy,fO,eY,gq,gl,f2,go,eB,gi,fL,ft,fj,eE,eq,e7,eW,e4,fZ,f8,e1,gb,gg,fb;
var gk={pulsator:{previousClass:""},leave:{isShowEnabled:false},timeoutId:0};var ge=function(gy){var gx=encodeURIComponent?encodeURIComponent:encodeURI;return gx(gy)};var fT=function(){if(!cx.roistat.leadHunter.isEnabled){return false}if(cx.roistatLeadHunterInited){return false}cx.roistatLeadHunterInited=true;if(cu.get(bS)<1){z("LeadHunter: disabled");return false}return true};var e6=function(){eq=cu.get(fA);if(!eq){z("LeadHunter: not active cause of empty url");return false}ca();e7=cu.get(f3);gh=cu.get(fH);eT=cx.roistat.leadHunter.form.autoShowTime===null?cu.get(e3):cx.roistat.leadHunter.form.autoShowTime;dZ=cu.get(fE)==1;ep();z("LeadHunter: initSettings end, isLeadHunterPulsatorEnabled: "+(dZ?1:0));return true};var fe=function(){return cu.get(eG)>0};var ep=function(){if(!(i(ai)>0)){z("LeadHunter: not active, expired for this visit");e9=true}};var ey=function(gx){gr=true;e4=fZ.src;var gy={version:ac,additionalNotifyEmail:cx.roistat.leadHunter.additionalNotifyEmail,projectKey:bf(),language:am,visitId:cO(),moduleTargetOrigin:cx.location.origin,referrer:cx.location.href,windowWidth:cx.innerWidth||0,iframeWrapperWidth:fy.offsetWidth||0,sendRequestUrl:cu.get(fA),message:fi};fZ.contentWindow.postMessage(gy,e4);fG();if(gx&&bV(cu.get(fc))){z("Beta Test on, iframe fired, rise up iframe show count state");er()}};var fh=function(){ex=true;ew("click");ey();fN()};var ev=function(){var gx=cx.location.hash;if(!gx){return}if(dm(gx,"roistat-lead-hunter")){fh()}};var ff=function eD(){z("LeadHunter: binding timeout");if(e9){z("LeadHunter: leadhunter is expired, no timeout show allowed");return}if(eI){z("LeadHunter: leadhunter was shown, no timeout show allowed");return}if(eT>0){var gx=(eU-cB())+eT*1000;z("LeadHunter: binding timeout with delay "+gx+" ms");clearTimeout(gk.timeoutId);gk.timeoutId=setTimeout(function(){z("LeadHunter: form auto activate with autoTime = "+eT);if(!eI){z("LeadHunter: show by timeout");ex=true;ew("auto");ey(true);fN()}},gx)}else{clearTimeout(gk.timeoutId);z("LeadHunter: auto show time is not positive, feature disabled")}};var f4=function(){f2.onclick=fO.onclick=fv;go.onclick=fa;if(ek(gi)){ej(gi,"click",fm)}if(ek(fL)){ej(fL,"change",gv)}var gy=M.getElementsByClassName("roistat-lh-input");if(Array.isArray(gy)){for(var gB=0;gB<gy.length;gB++){ej(gy[gB],"keyup",function(gF){gF=gF||event;var gE=(gF.keyCode?gF.keyCode:gF.which);if(gE==13){fa()}})}}var gz=cx.onresize;cx.onresize=function(gE){if(gz){gz(gE)}f9(gE)};if(!e9){var gx=M.onmouseout;M.onmouseout=function(gE){if(gx){gx(gE)}fK(gE)}}if(dZ&&!d7()&&ek(eS)){eS.onmouseover=function(){at(eS,"roistat-lh-pulsator-hover")};eS.onmouseout=function(){cm(eS,"roistat-lh-pulsator-hover")};eS.onclick=function(){fh()};cx.addEventListener("resize",function gD(){if(ek(eS)){eS.style.transform=eg()}});if(d8){el.addEventListener("resize",function gC(){if(ek(eS)){eS.style.transform=eg()}})}}var gA=cx.onhashchange;cx.onhashchange=function(){if(gA){gA.apply(this,arguments)}ev()}};var gn=function(){if(dZ&&!d7()&&ek(eS)){eS.onmouseover=function(){at(eS,"roistat-lh-pulsator-hover")};eS.onmouseout=function(){cm(eS,"roistat-lh-pulsator-hover")};eS.onclick=function(){fh()};cx.addEventListener("resize",function gB(){eS.style.transform=eg()});if(d8){el.addEventListener("resize",function gA(){if(ek(eS)){eS.style.transform=eg()}})}}fO.onclick=fv;fZ=M.getElementById(fk);if(ek(fZ)){ej(fZ,"load",function(){ey();gj()})}var gy=cx.onresize;cx.onresize=function(gC){if(gy){gy(gC)}f9(gC)};if(!e9){var gx=M.onmouseout;M.onmouseout=function(gC){if(gx){gx(gC)}if(!aj()){z("ShowLimit: Beta Test off, check cursor usually");fK(gC)}else{z("ShowLimit: Beta Test on, check cursor by caught or max show limit");if(!fM()&&!eQ()){z("ShowLimit: Check cursor allowed");fK(gC,true)}}}}var gz=cx.onhashchange;cx.onhashchange=function(){if(gz){gz.apply(this,arguments)}ev()}};var fu=function(gy){var gx=M.getElementsByClassName(gy);if(gx.length>0){return gx[0]}else{return null}};var fr=function(){var gA=fu("roistat-lh-title");if(ek(gA)&&roistat.leadHunter.form.title){gA.innerHTML=roistat.leadHunter.form.title}var gy=fu("roistat-lh-sub-title");if(ek(gy)&&roistat.leadHunter.form.subTitle){gy.innerHTML=roistat.leadHunter.form.subTitle}var gz=fu("roistat-lh-thank-you");if(ek(gz)&&roistat.leadHunter.form.thankYouText){gz.innerHTML=roistat.leadHunter.form.thankYouText}var gC=fu("roistat-lh-submit");if(ek(gC)&&roistat.leadHunter.form.buttonText){gC.value=roistat.leadHunter.form.buttonText}var gB=fu("roistat-lh-text-label-name");if(ek(gB)&&roistat.leadHunter.form.nameLabel){gB.innerHTML=roistat.leadHunter.form.nameLabel}var gx=fu("roistat-lh-text-label-contact");if(ek(gx)&&roistat.leadHunter.form.contactLabel){gx.innerHTML=roistat.leadHunter.form.contactLabel}};var eO=function(gy,gC,gB){var gx;if(!gy){z("LeadHunter: deactivating, empty form")}else{z("LeadHunter: rendering hidden form")}fO=M.createElement("div");fy=M.createElement("div");fy.innerHTML=gy;fO.className=e8;fy.className=e8;z("LeadHunter: processForm, isLeadHunterPulsatorEnabled: "+(dZ?1:0));
if(gC&&dZ&&gB&&!d7()){var gz=typeof gB.position==="string"&&gB.position!==""?gB.position:"bottomRight";gx=M.createElement("div");gx.innerHTML=gC;eS=gx.childNodes.item(0);f5=eS.childNodes.item(1);fs=eS.childNodes.item(2).childNodes.item(0);f5.setAttribute("style","background: "+gB.button.background+";");fs.setAttribute("style","fill: "+gB.button.color+";");eS.setAttribute("style","bottom: "+gp[gz].bottom+";right:"+gp[gz].right+";");eS.style.transformOrigin=gp[gz].transformOrigin;eS.style.transform=eg();gk.pulsator.previousClass=eS.className;eS.className=e8;M.body.appendChild(eS)}M.body.appendChild(fO);M.body.appendChild(fy);eY=M.getElementById(eZ);gq=M.getElementById(eL);gl=M.getElementById(fq);f2=M.getElementById(es);go=M.getElementById(et);eB=M.getElementById(gc);fL=M.getElementById(gs);gi=M.getElementById(f1);ft=M.getElementById(en);fj=M.getElementById(f6);eE=M.getElementById(fx);var gA=fu(eN);eW=ek(gA)&&gA.getAttribute("data-is-iframe");if(eW){gn()}else{fr();f4();ev();gj()}};var gm=function(gz){var gy=gz.button&&gz.button.background&&gz.button.color;if(!gy){return}cu.setObject(cb,fb);var gx=typeof gz.position==="string"&&gz.position!==""?gz.position:"bottomRight";if(ek(f5)){f5.setAttribute("style","background: "+gz.button.background+";")}if(ek(fs)){fs.setAttribute("style","fill: "+gz.button.color+";")}if(ek(eS)){eS.setAttribute("style","bottom: "+gp[gx].bottom+";right:"+gp[gx].right+";");eS.style.transformOrigin=gp[gx].transformOrigin;eS.style.transform=eg()}};var eC=function(){var gx=cu.get(cc),gz=cu.get(bF),gy=cu.getObject(cb);if(gy!==null){eO(cA.decode(gx),cA.decode(gz),gy)}};var fd=function(){var gy=fy.clientWidth,gx=fy.clientHeight;if(ek(fy)){fy.setAttribute("style",fy.getAttribute("style")+" width: "+gy+"px; height: "+gx+"px;")}if(ek(gq)){gq.className=e8}if(ek(eY)){eY.className=e8}if(ek(eB)){eB.className=e8}if(ek(gl)){gl.setAttribute("style","width: "+gy+"px; height: "+gx+"px; display: table-cell;");gl.className=eH}setTimeout(function(){z("LeadHunter: close form after timeout");fv()},7000)};var fN=function(){var gy=Math.round((f0()-fy.clientHeight)/2);var gx=Math.round((gw()-fy.clientWidth)/2);if(ek(fy)){fy.setAttribute("style","left: "+gx+"px; top: "+Math.max(0,gy)+"px;")}};var ew=function(gy){if(!bV(cu.get(fc))){return}if(cx.roistat.leadHunter.onBeforeAppear){z("LeadHunter: process user defined onBeforeAppear");cx.roistat.leadHunter.onBeforeAppear(gy);if(eW){fG()}}if(ek(fy)){fy.setAttribute("style","left:20px;top:-20px;opacity:0");fy.className=fp}if(ek(fO)){fO.className=fP}if(ek(gq)){gq.className=ga}if(ek(eY)){eY.className=gd}if(ek(eB)){eB.className=fl}if(ek(gl)){gl.setAttribute("style","");gl.className=e8}if(ek(fO)){fO.setAttribute("style","opacity:0;")}eI=true;setTimeout(function(){fO.setAttribute("style","opacity:.5;")},10);var gz=i(cn),gx=e7+"?visit_id="+gz+"&page="+y();Y(gx);if(cx.roistat.leadHunter.onAfterAppear){z("LeadHunter: process user defined onAfterAppear");cx.roistat.leadHunter.onAfterAppear(gz,fO,fy,gq);if(eW){fG()}}};var fS=function fw(){eU=cB();eC();z("LeadHunter: form initialized")};var gj=function fg(){z("LeadHunter: tuning appearance for page");if(!bV(cu.get(fc))||(cu.get(a5)&&!cu.get(ad))){z("LeadHunter: disabled on page");gk.leave.isShowEnabled=false;clearTimeout(gk.timeoutId);if(d7()){dT=false;d4()}if(ek(eS)){eS.className=e8}}else{z("LeadHunter: enabled on page");if(!fe()&&!aj()){z("ShowLimit: Beta Test off, bindShowOnTimeout usually");gk.leave.isShowEnabled=true;ff()}if(aj()){z("ShowLimit: Beta Test on, bindShowOnTimeout by caught or max show limit");if(!fM()&&!eQ()){z("ShowLimit: bindShowOnTimeout allowed");gk.leave.isShowEnabled=true;ff()}}if(ek(eS)){eS.className=gk.pulsator.previousClass}}};var e0=function fJ(){z("LeadHunter: processing single page application state change");eU=cB();gj()};var fY=function fn(){aF(e0);var gy=function(){var gE=M.querySelector("html"),gA=600,gD=300,gG=cx.innerWidth,gz=getComputedStyle(gE).zoom,gC={};var gB=function(){var gH=gE.style.cssText.split(";").find(function(gI){return gI.includes("--zoomLevel")});if(gH!==bR){gH=gH.split(":");if(gH.length>1){gH=parseFloat(gH[1])}else{return bR}}return gH};var gF=gB();if(gF!==bR){gz=gF}if(gG<gA&&gG>=gD){gC={isMobileMarkup:true,isMobileMarkupXs:false,zoomValue:gz};fZ.contentWindow.postMessage({sizeSettings:gC,message:fQ,windowWidth:cx.innerWidth||0},e4);return}if(gG<gD){gC={isMobileMarkup:false,isMobileMarkupXs:true,zoomValue:gz};fZ.contentWindow.postMessage({sizeSettings:gC,message:fQ,windowWidth:cx.innerWidth||0},e4);return}gC={isMobileMarkup:false,isMobileMarkupXs:false,zoomValue:gz};fZ.contentWindow.postMessage({sizeSettings:gC,message:fQ,windowWidth:cx.innerWidth||0},e4)};cx.roistatLeadHunterUpdate=gy;an(cx,"load",function(){gy()});an(cx,"resize",function(){gy()});an(cx,"message",function gx(gD){var gI=typeof gD.data==="string"?gD.data:gD.data.message;if(gI===fR){f8=gD.data.scriptId;e1=gD.data.showsLimit;var gH=cu.getObject(r)!==null;if(gH){eT=gD.data.leadHunterAutoShowTime;gh=gD.data.leadHunterMinTime;
fb=gD.data.leadHunterPulsatorSettings;cu.set(fH,gh);cu.set(e3,eT);if(fb){var gG=Number(fb.isEnabled);z("Leadhunter: set pulsator setting "+gG);cu.set(fE,gG);gm(fb)}}z("ShowLimit: Get lhScriptId: "+gD.data.leadHunterId+" and lhScriptMaxShownCount: "+gD.data.leadHunterMaxShownCount+" from lh widget");fD()}if(gI===eM){fv()}if(gI===fQ){const gC=typeof gD.data==="object"&&gD.data.calibratingSize!==bR?gD.data.calibratingSize:true;fZ.setAttribute("style","width: "+gD.data.width+"px !important; height: "+gD.data.height+"px !important;");if(gr&&!gC){fZ.contentWindow.postMessage({message:fQ,windowWidth:cx.innerWidth||0,calibratingSize:true},e4)}f9(gD)}if(gI===f7){var gB=gD.data.caughtLeadData;if(cx.roistat.leadHunter.onBeforeSubmit){z("LeadHunter: process user defined onBeforeSubmit");var gz=cx.roistat.leadHunter.onBeforeSubmit(gB);if(gz){gB=gz}}if(!aj()){z("ShowLimit: Beta Test off, catch before submit message, setCookieLeadHunterCaught will run");ez()}else{z("ShowLimit: Beta Test on, catch before submit message, setLeadHunterScriptCaught will run");fF()}var gA=cu.getObject(cM);var gF=gA!==null;var gE=gF&&gB.isNeedCallback===null&&!Q(gA);if(gE){gB.isNeedCallback=0}fZ.contentWindow.postMessage({caughtLead:gB,message:fB},e4)}if(gI===gf){if(cx.roistat.leadHunter.onAfterSubmit){z("LeadHunter: process user defined onAfterSubmit");cx.roistat.leadHunter.onAfterSubmit({name:gD.data.name,phone:gD.data.phone})}}})};function fG(){var gx={apiData:cx.roistat.leadHunter.form,message:fU};fZ.contentWindow.postMessage(gx,e4)}function fD(){if(!fT()){z("checkLeadHunterLaunch false");return}var gx=cu.getObject(r)!==null;if(gx){eA()}if(!e6()){z("initSettings false");return}z("LeadHunter: activated");fS();gj();fY();if(typeof cx.onRoistatLeadHunterInited==="function"){cx.onRoistatLeadHunterInited()}}function f0(){return(cx.innerHeight?cx.innerHeight:M.documentElement.clientHeight==0?M.body.clientHeight:M.documentElement.clientHeight)}function gw(){return(cx.innerWidth?cx.innerWidth:M.documentElement.clientWidth==0?M.body.clientWidth:M.documentElement.clientWidth)}function fK(gA,gx){gA=gA||event;eV=gA.clientY;var gy=eV/f0(),gC=eP>0&&eP>gy,gz=gy<eR,gB=(cB()-eU)>gh*1000;if(gC&&gz&&!eI&&gB&&gk.leave.isShowEnabled&&!fe()){z("LeadHunter: show modal with because move up ("+eP+" -> "+gy+") and in modal zone and show on leave enabled");ew("exit");ey(gx);fo(gA)}if(gy<eF){eP=gy}}function f9(gx){if(ex){fN()}else{gx=gx||event;fo(gx)}}function fo(gC){var gy=gC.type==="message"?gC.data.width:fy.offsetWidth;var gz=gw();var gx=gC.clientX-Math.round(gy/2)||fy.offsetLeft;gx=Math.max(20,Math.min(gx,gz-gy-20));var gD=gx+gy>gz-40;if(gD){var gA=(gx+gy-20)-(gz-40);gx=gx-gA}var gB=gz-40>gy?"":"width: "+(gy-40)+"px;";if(ek(fy)){fy.setAttribute("style","left: "+gx+"px; top: 0px; "+gB)}}function ez(){cx.roistatSetCookie(eG,1,c9)}function fv(){if(!aj()){z("ShowLimit: Beta Test off, setCookieLeadHunterCaught");ez()}if(ek(fO)){fO.setAttribute("style","opacity:0")}if(ek(fy)){fy.style.top="-"+fy.offsetHeight*2+"px";setTimeout(function(){fy.className=fO.className=e8},500)}}function fa(){var gL=M.getElementById("roistat-lh-phone-input"),gz=M.getElementById("roistat-lh-name-input"),gB,gJ;gB=gL===null?"":gL.value;gJ=gz===null?"":gz.value;var gG={name:gJ,phone:gB,isNeedCallback:null,callbackPhone:null,fields:{}};if(cx.roistat.leadHunter.onBeforeSubmit){z("LeadHunter: process user defined onBeforeSubmit");var gC=cx.roistat.leadHunter.onBeforeSubmit(gG);if(gC){gG=gC}}var gI=gG.phone.length<1;var gK=gG.phone.indexOf("_")===-1;var gE=!gI&&gK;var gH=gG.name.length<1;var gy=!gH||!cx.roistat.leadHunter.form.isNameRequired;if(!gE&&ek(gL)){gL.setAttribute("style","border: 2px solid #E0571A;");return}if(!gy&&ek(gz)){gz.setAttribute("style","border: 2px solid #E0571A;");return}var gx=eq+"?v="+ac+"&lead-hunt-input="+encodeURIComponent(gG.phone)+"&lead-name="+encodeURIComponent(gG.name)+"&visit="+cO();if(gG.isNeedCallback!==null&&gG.isNeedCallback!==bR){gx=gx+"&is_need_callback="+(gG.isNeedCallback>0?1:0)}if(gG.callbackPhone){gx=gx+"&callback_phone="+gG.callbackPhone}if(cx.roistat.leadHunter.additionalNotifyEmail!==null){gx=gx+"&additional_email="+encodeURIComponent(cx.roistat.leadHunter.additionalNotifyEmail)}var gA=0;if(gG.fields&&typeof gG.fields==="object"){for(var gD in gG.fields){if(gG.fields.hasOwnProperty(gD)){++gA}}}if(gA>0){gx=gx+"&fields="+ge(JSON.stringify(gG.fields))}gx=gx+"&t="+cB();var gF=M.createElement("img");gF.src=gx;if(ek(gL)){gL.setAttribute("style","")}if(!aj()){z("ShowLimit: Beta Test off, caught LH usually");ez()}else{z("ShowLimit: Beta Test on, caught LH by set setLeadHunterScriptCaught");fF()}if(!ek(gl)){fv();e5()}else{fd()}if(cx.roistat.leadHunter.onAfterSubmit){z("LeadHunter: process user defined onAfterSubmit");cx.roistat.leadHunter.onAfterSubmit({name:gJ,phone:gB})}}function fm(gx){if(gx.preventDefault){gx.preventDefault()}else{gx.returnValue=false}if(ek(ft)){ft.style.display==="block"?ft.style.display="none":ft.setAttribute("style","display: block; padding: 0 30px; width:"+fy.clientWidth+"px;")
}f9()}function gv(){if(ek(go)){go.disabled===true?go.disabled=false:go.disabled=true}if(ek(fj)){fj.style.display==="block"?fj.style.display="none":fj.style.display="block"}}function e5(){M.onmousemove=null;if(ek(fO)){fO.onresize=null}}var e2=function(gD,gG){if(!gD||!gG){z("LeadHunter: skip phone mask render due to empty input or mask");return}z("LeadHunter: render phone mask "+gG+" for input: "+gD.value);if(cx.roistatRenderPhoneMaskMutex){return}cx.roistatRenderPhoneMaskMutex=true;var gA="_",gz="x",gC="х",gB=gG.toLowerCase().split(gz).join(gA).split(gC).join(gA);var gy=function(gH){if(gD.setSelectionRange){gD.setSelectionRange(gH,gH)}else{if(gD.createTextRange){var gI=gD.createTextRange();gI.collapse(true);gI.moveEnd("character",gH);gI.moveStart("character",gH);gI.select()}}};var gE=function(gH){if(!gH){return 0}var gI=gH.indexOf(gA);if(gI<0){return gH.length}return gI};var gF=function(gH){gy(gE(gH))};var gx=function(gQ){var gR=gB.split("");if(!gQ){return gB}var gH=gQ.split("");var gS=[],gP,gM,gO,gL,gJ,gI,gN;for(var gK=0;gK<gR.length;gK++){gM=gR[gK];if(gK>=gH.length){gS.push(gM);continue}gJ=((gK+1)<gR.length)?gR[gK+1]:null;gI=((gK+1)<gH.length)?gH[gK+1]:null;gN=((gK+2)<gH.length)?gH[gK+2]:null;gP=gH[gK];gO=parseInt(gP)>=0;gL=(gM===gA)&&gO;if(!gL){gS.push(gM);continue}if(gI===gA&&gJ!==gA&&gN!==gJ){gS.push(gM);continue}gS.push(gP)}return gS.join("")};setTimeout(function(){var gH=gx(gD.value);if(gD.value!==gH){gD.value=gH}gF(gH);cx.roistatRenderPhoneMaskMutex=false},1)};var fX=function(gx,gz,gy){cu.set(cc,cA.encode(gx));cu.set(bF,cA.encode(gz));cu.setObject(cb,gy)};var fC=function(gx){am=gx;if(fZ===bR){return}eo()};var eo=function(){var gx={language:am,message:fV};fZ.contentWindow.postMessage(gx,e4)};var fF=function(){z("ShowLimit: Start set roistat_leadHunterScriptsCaught");var gx=eJ(eX);if(!gx){gx={}}z("ShowLimit: Cookie roistat_leadHunterScriptsCaught for lhScriptId set to 1");gx[f8]=1;fW(eX,gx)};var er=function(){z("ShowLimit: Start set roistat_leadHunterScriptsShownCount");var gy=eJ(gt);if(!gy){gy={}}var gz=gy.hasOwnProperty(f8);if(!gz){z("ShowLimit: Cookie roistat_leadHunterScriptsShownCount for lhScriptId initialized");gy[f8]=0}var gx=gy[f8]+1>e1;if(gx){z("ShowLimit: Stored lhScriptId has reached lhScriptMaxShownCount, show counter in cookie not rise up, return from function");return}z("ShowLimit: Cookie already has, exist lhScriptId show counter rise up");gy[f8]+=1;fW(gt,gy)};var fW=function(gx,gy){dD(gx,JSON.stringify(gy),c9)};var eJ=function(gx){var gy=i(gx);if(typeof gy!=="undefined"){return JSON.parse(gy)}return gy};var eQ=function(){if(e1===0){z("ShowLimit: show limit off and set to 0");return false}var gx=eJ(gt),gy=gx?gx[f8]:null,gz=gy+1>e1;z("ShowLimit: Check isCurrentScriptMaxShownCountReached, show limit on, check for exceeding the limit, is "+gz);return gz};var fM=function(){var gz=eJ(eX),gx=gz?gz[f8]:null,gy=gx===1;z("ShowLimit: Check isCurrentLeadHunterScriptSubmitted, is "+gy);return gy};var eA=function(){cu.set(a5,eu());cu.set(cc,cA.encode(fI()));cu.set(fc,eK());cu.set(fE,gu())};var fI=function(){var gx=bk()+"//"+x+"/api/site/1.0/"+bf()+"/leadhunter/script/"+cu.get(a5)+"/widget?visit_id="+o();return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+gx+'" frameborder="0"></iframe></div>'};var eu=function(){var gy=cu.getObject(r);if(gy===null){return}cu.set(ad,"");var gC=Number(cu.get(bS));var gG=Object.keys(gy);var gD=gG.sort()[0];if(!gC){return gD}for(var gB=0;gB<gG.length;gB++){var gH=gy[gG[gB]];var gE=gH.targetPageList;var gA=bV(gE.join(","));var gz=gE.length===0;var gx=Array.isArray(gH.devicesFilter)&&gH.devicesFilter.length>0?gH.devicesFilter.indexOf(H())!==-1:true;var gF=(gz||gA)&&gx&&(!gH.timetable.isEnabled||Q(gH.timetable));if(gF){gD=gG[gB];cu.set(ad,gD)}}return gD};var eK=function(){var gx=fz();return gx!==null?gx.targetPageList.join(","):""};var gu=function(){var gx=fz();return gx!==null?Number(gx.isPulsatorEnabled):0};var fz=function(){var gx=cu.get(a5);var gy=cu.getObject(r);return gy!==null&&gy[gx]!==null?gy[gx]:null};cx.roistatLeadHunterShow=fh;cx.roistatRenderPhoneMask=e2;cx.roistat.leadHunter.localization.translateToRussian=function(){fC(cr)};cx.roistat.leadHunter.localization.translateToEnglish=function(){fC(aE)};cN(fD)},multiwidget:function(){var e9="roistat-multiwidget-hidden",fk="roistat-multiwidget-pulsator-phone",fi="roistat-multiwidget-pulsator-popup-item-lead-hunter",eE="roistat-multiwidget-pulsator-fill",fn="roistat-multiwidget-pulsator-fill-svg",eZ="roistat-multiwidget-pulsator-img-icon",eD="roistat-multiwidget-pulsator-popup-item-chat",eq="roistat-multiwidget-pulsator-popup-item-facebook",ew="roistat-multiwidget-pulsator-popup-item-vk",eY="roistat-multiwidget-pulsator-popup-item-telegram",eM="roistat-multiwidget-pulsator-popup-item-whats-app",eK="roistat-multiwidget-pulsator-popup-item-viber",e4="roistat-multiwidget-pulsator-overlay",e3="roistat-multiwidget-pulsator-items-popup-holder",eS="roistat-multiwidget-pulsator-popup-header-wrapper",eX="iframe_chat_successfully_loaded",ex="roistat-multiwidget-pulsator-popup-tail",eU="roistat-online-chat-popup-wrapper",fm="roistat-online-chat-popup-wrapper-hidden",fg="roistat-multiwidget-pulsator-holder-hidden";
var eC,e2,eN,eG,eI,fj,en,et,fl,eT,ez,ep,eA,er,fc,es;var eJ=false;var eR=true;var fh={topLeft:{bottom:"unset",right:"unset",top:dM()?0:"20px",left:dM()?0:"35px",transformOrigin:"top left"},topRight:{bottom:"unset",right:dM()?0:"35px",top:dM()?0:"20px",left:"unset",transformOrigin:"top right"},bottomRight:{bottom:bL()?0:"20px",right:bL()?"6px":"35px",top:"unset",left:"unset",transformOrigin:"bottom right"},bottomLeft:{bottom:dM()?0:"20px",right:"unset",top:"unset",left:dM()?0:"35px",transformOrigin:"bottom left"}};var ev={topLeft:{bottom:"unset",right:"unset",top:"110px",left:"0"},topRight:{bottom:"unset",right:"0",top:"110px",left:"unset"},bottomRight:{bottom:"110px",right:"0",top:"unset",left:"unset"},bottomLeft:{bottom:"110px",right:"unset",top:"unset",left:"0"}};var eL={topLeft:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"unset",top:"-14px",left:"40px"},topRight:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"34px",top:"-14px",left:"unset"},bottomRight:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"40px",top:"unset",left:"unset"},bottomLeft:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"unset",top:"unset",left:"34px"}};function e8(fp){z("Multiwidget: "+fp)}function eW(){e2=eb(eC,fk);eN=eb(eC,e3);eI=eb(eC,eS);eG=eb(eC,e4);eT=eb(eN,fi);fj=eb(eC,ex);ez=eb(eN,eD);ep=eb(eN,ew);eA=eb(eN,eq);er=eb(eN,eY);fc=eb(eN,eM);es=eb(eN,eK);en=eb(e2,eE);et=e2.getElementsByClassName(fn);fl=eb(e2,eZ)}function fb(){if(bL()&&ek(eG)&&ek(eN)){if(eN.classList.contains(e9)){eu(eG)}else{e6(eG)}}}function eF(){if(ek(eN)){eN.classList.toggle(e9)}fb()}function ff(fp){if(ek(fp)){fp.classList.toggle("opened")}}function fo(){e8("add pulsator events");ej(e2,"click",function(){if(!eP()){eF()}ff(e2)});ej(eI,"click",function(){if(!eP()){eF()}ff(e2);fb()});ej(eG,"click",function(){if(!eP()){eF()}ff(e2);fb()});ej(eT,"click",function(){e8("opening leadhunter via multiwidget");cx.roistatLeadHunterShow();eF();d0(e2,"opened",false)});ej(ez,"click",function(){e8("opening online chat via multiwidget");cx.roistatOnlineChatShow();eF()});ej(ep,"click",function(){cx.open(cu.get(c4),"_blank")});ej(eA,"click",function(){cx.open(cu.get(dp),"_blank")});ej(er,"click",function(){cx.open(cu.get(bA),"_blank")});ej(fc,"click",function(){cx.open(cu.get(bQ),"_blank")});ej(es,"click",function(){cx.open(cu.get(cS),"_blank")})}function eP(){var fp=eb(M,eU);return ek(fp)&&!fp.classList.contains(fm)}function eQ(){return ek(e3)&&!e3.classList.contains(e9)}function eu(fp){if(ek(fp)){fp.classList.add(e9)}}function e6(fp){if(ek(fp)){fp.classList.remove(e9)}}function e0(){eu(eT)}function eO(){e8("hiding disabled multiwidget options");var fp=Number(cu.get(bS)),fq=Number(cu.get(ce)),fs=Number(cu.get(U)),fv=Number(cu.get(cP)),fr=Number(cu.get(c0)),fu=Number(cu.get(dS));var ft=0;if(!fp||!dZ||!dT){e8("hiding leadhunter option");e0()}if(!d3()||!eJ){e8("hiding online chat option");eu(ez)}if(d3()){ft++}if(!fq){e8("hiding vk-messenger option");eu(ep)}else{ft++}if(!fs){e8("hiding fb-messenger option");eu(eA)}else{ft++}if(!fv){e8("hiding telegram-messenger option");eu(er)}else{ft++}if(!fr){e8("hiding whatsApp-messenger option");eu(fc)}else{ft++}if(!fu){e8("hiding Viber-messenger option");eu(es)}else{ft++}eR=ft>1;if(bL()&&eR){e8("hiding popup header");e6(eI)}}function eo(){var fq=cu.getObject(f);e8("start filling pulsator");if(fq){if(ek(en)){en.setAttribute("style","background: "+fq.button_color+";")}if(ek(fl)){fl.setAttribute("style","fill: "+fq.icon_color+";")}if(HTMLCollection.prototype.isPrototypeOf(et)){for(var fp=0;fp<et.length;fp++){et[fp].setAttribute("style","fill: "+fq.button_color+";")}}}}function e5(){var fp=cu.getObject(f);return fp!==null&&typeof fp.position==="string"&&fp.position!==""?fp.position:"bottomRight"}function e1(){if(ek(eC)){var fp=e5();eC.setAttribute("style","top: "+fh[fp].top+";right:"+fh[fp].right+";bottom:"+fh[fp].bottom+";left:"+fh[fp].left+";");eC.style.transformOrigin=fh[fp].transformOrigin;eC.style.transform=eg()}}function eH(){if(ek(e2)){var fp=e5();var fq="transform: "+dY()+";";var fr=fp==="topLeft"||fp==="bottomLeft"?"margin-right":"margin-left";e2.setAttribute("style",fr+": auto;"+fq)}}function e7(){if(ek(eN)){var fp=e5();var fq=bL()?"0":ev[fp].bottom;var fr=bL()?"unset":ev[fp].top;eN.setAttribute("style","top: "+fr+";right:"+ev[fp].right+";bottom:"+fq+";left:"+ev[fp].left+";")}}function ey(){if(ek(fj)){var fp=e5();fj.setAttribute("style","top: "+eL[fp].top+";right:"+eL[fp].right+";bottom:"+eL[fp].bottom+";left:"+eL[fp].left+";border-top-color:"+eL[fp]["border-top-color"]+";border-right-color:"+eL[fp]["border-right-color"]+";border-bottom-color:"+eL[fp]["border-bottom-color"]+";border-left-color:"+eL[fp]["border-left-color"]+";")
}}function fd(){e1();eH();if(!bL()){e7();ey()}}function eB(){var fq=cA.decode(cu.get(dj));if(fq){e8("appending multiwidget pulsator");var fp=M.createElement("div");fp.innerHTML=fq;eC=fp.childNodes.item(0);if(!cx.roistat.multiwidget.isVisible){e8("Hide widget");eC.className=eC.className+" "+fg}M.body.appendChild(eC);eW();eO();eo();fd();fo()}}function eV(){var fv=cu.getObject(au);if(!fv){var fx=parseInt(cu.get(bm));fx=!isNaN(fx)?Boolean(fx):roistat.multiwidget.isEnabled;var fq=Boolean(parseInt(cu.get(ce)))||roistat.multiwidget.vk.isEnabled;var fz=cu.get(c4);fz=fz!=="null"?fz:roistat.multiwidget.vk.link;var fu=Boolean(parseInt(cu.get(U)))||roistat.multiwidget.fb.isEnabled;var fy=cu.get(dp);fy=fy!=="null"?fy:roistat.multiwidget.fb.link;var fr=Boolean(parseInt(cu.get(cP)))||roistat.multiwidget.telegram.isEnabled;var fA=cu.get(bA);fA=fA!=="null"?fA:roistat.multiwidget.telegram.link;var fp=Boolean(parseInt(cu.get(c0)))||roistat.multiwidget.whatsApp.isEnabled;var ft=cu.get(bQ);ft=ft!=="null"?ft:roistat.multiwidget.whatsApp.link;var fw=Boolean(parseInt(cu.get(dS)))||roistat.multiwidget.viber.isEnabled;var fs=cu.get(cS);fs=fs!=="null"?fs:roistat.multiwidget.viber.link;fv={is_enabled:fx,vk:{is_enabled:fq,link:fz},fb:{is_enabled:fu,link:fy},telegram:{is_enabled:fr,link:fA},whats_app:{is_enabled:fp,link:ft},viber:{is_enabled:fw,link:fs}}}da(fv)}function fa(){an(cx,"message",function fq(ft){var fs=typeof ft.data==="string"?ft.data:ft.data.message;if(fs===eX){eJ=true;e6(ez)}});function fr(){if(ek(eC)){eC.style.transform=eg();e7();ey();if(!bL()){eu(eG);eu(eI);e6(fj)}else{fb();eu(fj);if(eR){e6(eI)}}}}an(cx,"resize",fr);if(d8){an(el,"resize",fr)}function fp(){if(ek(e2)){e2.classList.toggle("opened")}}cx.roistatToggleMultiwidgetState=fp}function fe(){eV();ca();fa();e8("activated");eB();if(typeof cx.onRoistatMultiwidgetInited==="function"){cx.onRoistatMultiwidgetInited()}}d4=e0;cN(fe)},onlineChat:function(){var fD="iframe-module-created",eC="iframe_chat_successfully_loaded",eq="iframe-online-chat-opened",ey="iframe-online-chat-invite-message",f0="iframe-delivered-messages",fG="roistat-online-chat-init",fB="roistat-online-chat-init-with-text",fk="roistat-online-chat-open",fw="roistat-online-chat-close",f8="roistat-online-chat-reload",fS="roistat-online-chat-update-custom-params",eS="roistat-online-chat-lead_successfully_sent",fK="roistat-online-chat-translate-form",e3="roistat-online-chat-send-lead",fV="roistat_chat_id",f7="roistat_chat_session",fE="roistat_chat_custom_position",fn="roistat-online-chat-page-resized",eK=10*365*24*60*60,eM,eD,fW,ez,eE,fT,ft,eX,fr;var fj="roistat-online-chat-popup-iframe",e0="roistat-online-chat-hidden",fX="roistat-online-chat-holder",fR="roistat-online-chat-popup-wrapper",fO="roistat-multiwidget-pulsator-phone",er="roistat-multiwidget-pulsator-popup-item-chat",fq="roistat-online-chat-popup-wrapper-hidden",eY="roistat-online-chat-popup-mouse-track",fi="roistat-online-chat-popup-mouse-track-active",e2="roistat-online-chat-pulsator-fill",fU="roistat-online-chat-pulsator-img",fa="roistat-online-chat-pulsator-phone",ga="roistat-online-chat-pulsator-circle",ex="."+ga,fN="roistat-online-chat-pulsator-notification-circle",f9="."+fN,eQ="roistat-online-chat-pulsator-fill-svg",fp="roistat-online-chat-popup-spacer",eJ=".roistat-multiwidget-pulsator-items-popup",eG=".roistat-online-chat-pulsator-phone",ff=".roistat-online-chat-popup-wrapper";var eU=99;var fQ="roistat-online-chat-pulsator-notification-limit";var eZ=false,e1=false,fu=0,ev=0;var fm=".roistat-online-chat-holder";var e9="roistat-online-chat-holder-hidden";if(d7()){fm=".roistat-multiwidget-pulsator-holder";e9="roistat-multiwidget-pulsator-holder-hidden";ga="roistat-multiwidget-pulsator-circle";ex="."+ga;fN="roistat-multiwidget-pulsator-notification-circle";f9="."+fN;fQ="roistat-multiwidget-pulsator-notification-limit"}var f1;var f6={topLeft:{bottom:"unset",right:"unset",top:bL()?"10px":"20px",left:bL()?"24px":"35px"},topRight:{bottom:"unset",right:bL()?"24px":"35px",top:bL()?"10px":"20px",left:"unset"},bottomRight:{bottom:bL()?"10px":"20px",right:bL()?"24px":"35px",top:"unset",left:"unset"},bottomLeft:{bottom:bL()?"10px":"20px",right:"unset",top:"unset",left:bL()?"24px":"35px"}};var ge=function(){return{topLeft:{top:bL()?"unset":"130px",right:"unset",bottom:bL()?"0px":"unset",left:bL()?0:"65px"},topRight:{top:bL()?"unset":"130px",right:bL()?0:"65px",bottom:bL()?"0px":"unset",left:"unset"},bottomRight:{top:"unset",right:bL()?0:"65px",bottom:bL()?0:"130px",left:"unset"},bottomLeft:{top:"unset",right:"unset",bottom:bL()?0:"130px",left:bL()?0:"65px"}}};var fY={topLeft:{top:"unset",bottom:"0",height:"20px"},topRight:{top:"unset",bottom:"0",height:"20px"},bottomLeft:{top:"0",bottom:"unset",height:"50px"},bottomRight:{top:"0",bottom:"unset",height:"50px"}};var fA=function(gf){z("onlineChat: "+gf)};var eR=function(){function gf(){return Math.random().toString(36).substr(2,8)}return gf()+gf()+gf()+gf()};var fo=function(){var gf=M.querySelector('meta[name="viewport"]');
if(ek(gf)){return gf.getAttribute("content")}return null};var ew=fo();var fv="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no";var eF=function(){var gf=i(f7);if(!gf){gf=cu.get(f7)}if(!gf){gf=eR();var gg={expires:eK,path:"/"};if(c9.domain){gg.domain=c9.domain}cu.save(f7,gf,gg)}return gf};var eu=function(){var gf={message:fD,detail:{version:ac,language:s,projectKey:bf(),visitId:cO(),firstVisit:cu.get(a7),chatId:i(fV),moduleTargetOrigin:cx.location.origin,referrer:cx.location.href,params:ee,sessionUniqueKey:eF(),isMobile:bL()}};fT.contentWindow.postMessage(gf,fT.src)};var eN=function(){var gf={message:eq,detail:{isOpened:fZ(),isMobile:bL()}};fT.contentWindow.postMessage(gf,fT.src)};var eP=function(){var gf={message:fS,detail:{params:ee,isMobile:bL()}};fT.contentWindow.postMessage(gf,fT.src)};var eo=function(){var gf={language:s,message:fK};fT.contentWindow.postMessage(gf,fT.src)};var eT=function(gg){var gf={message:fB,detail:{message:gg,isMobile:bL()}};fT.contentWindow.postMessage(gf,fT.src)};var gd=function(gf){var gg={message:fk,detail:{chatId:gf,isMobile:bL()}};fT.contentWindow.postMessage(gg,fT.src)};var eI=function(){cx.focus();if(typeof cx.roistatOnlineChatToggle==="function"){cx.roistatOnlineChatToggle()}if(typeof cx.roistatToggleMultiwidgetState==="function"){cx.roistatToggleMultiwidgetState()}eA(f1)};var eL=function(){var gf={message:fn,detail:{isMobile:bL()}};fT.contentWindow.postMessage(gf,fT.src)};var fM=function(gf){var gg={expires:eK,path:"/"};if(c9.domain){gg.domain=c9.domain}de(fV,{path:"/"});dD(fV,gf,gg)};var fL=function(){an(cx,"message",function gf(gi){var gh=typeof gi.data==="string"?gi.data:gi.data.message;var gg=typeof gi.data!=="string"?gi.data.detail:{};fA("event: "+gh+" "+JSON.stringify(gg));switch(gh){case eC:fP();cx.setRoistatOnlineChatCustomParams=e6;e6(ee);if(typeof cx.onRoistatOnlineChatInited==="function"){cx.onRoistatOnlineChatInited()}break;case fD:eu();break;case fG:fA("saving chat id = "+gg.chatId);fM(gg.chatId);break;case fB:fA("saving chat with text id = "+gg.chatId);if(cx.onRoistatChatInit!==bR&&typeof cx.onRoistatChatInit==="function"){cx.onRoistatChatInit(gg.chatId)}fM(gg.chatId);cx.roistatOnlineChatShow();break;case fk:fA("saving chat id by open chat = "+gg.chatId);fM(gg.chatId);cx.roistatOnlineChatShow();break;case fw:eI();break;case ey:fA("rendering invite message");fH(gg.message);break;case f0:fA("get delivered messages");gc(gg.messages);break;case e3:fA("sending lead");eO(gg.leadData)}})};var e5=function(){var gg=cx.roistat.onlineChat.notificationsCustomHolderSelector;var gf=gg!==null;return M.querySelector(gf?gg:fm)};var eO=function(gf){cx.roistatGoal.reach(gf,function(){fT.contentWindow.postMessage(eS,fT.src)})};var fH=function(gm){if(fZ()){return}var gh="<div class='roistat-online-chat-message'><img src='"+gm.operator.avatar+"' class='roistat-online-chat-message-avatar'></img><div class='roistat-online-chat-message-content'><div class='roistat-online-chat-message-name'><span class='roistat-online-chat-message-name-text'>"+gm.operator.name+"</span><div class='roistat-online-chat-message-name-online-status'></div></div><div class='roistat-online-chat-message-text'>"+gm.text+"</div></div><div class='roistat-online-chat-message-close'>х</div></div>";var gl=M.createElement("div");gl.innerHTML=gh;var gk=e5();if(ek(gk)){var gn=fs()?"beforeend":"afterbegin";gk.insertAdjacentHTML(gn,gh);var gj=gk.getElementsByClassName("roistat-online-chat-message-close");var gf=gk.getElementsByClassName("roistat-online-chat-message");var gi=gj[fs()?gj.length-1:0];var gg=gf[fs()?gj.length-1:0]}setTimeout(function(){gg.remove()},15000);ej(gg,"click",function(go){go.stopPropagation();if(!fZ()){fJ()}f2()});ej(gi,"click",function(go){go.stopPropagation();gg.remove()})};var gc=function(gh){var gl=e5();if(ek(gl)){var gm=gl.querySelector(ex);var gg=gl.querySelector(f9);var gk=gh>eU;var gj=gk?eU+"+":gh;if(gg&&!gh){gg.remove();return}if(gg){gg.textContent=gj;gg.classList.toggle(fQ,gk);return}if(gh){var gf=gk?fQ:"";var gi='<div class="'+fN+gf+'">'+gj+"</div>";gm.insertAdjacentHTML("beforebegin",gi)}}};var f2=function(){var gg=e5();if(ek(gg)){var gf=gg.getElementsByClassName("roistat-online-chat-message");while(gf.length>0){gf[0].remove()}}};var f5=function(){fT=M.getElementById(fj);if(ek(fT)){ej(fT,"load",function(){fh()})}ej(M,"click",function(gk){var gj=cx.roistat.onlineChat.customTriggerSelector;if(d7()){var gl=eb(M,fO);var gi=eb(M,er);var gh=fZ()&&gk.target!==gi&&!gi.contains(gk.target);if(gh){d0(gl,"opened",false)}}else{var gf=eb(M,fX);var gg=fZ()&&gk.target!==gf&&!gf.contains(gk.target);if(gg){d0(gf,"opened",false)}}if(fZ()&&(gk.target.closest(eJ)===null&&gk.target.closest(ff)===null&&gk.target.closest(eG)===null&&(gj?gk.target.closest(gj)===null:true))){fJ()}})};var ep=function(gh){var gg=fW.getBoundingClientRect().x;var gf=fW.getBoundingClientRect().y;e1=true;et();fu=gh.pageX-gg;if(fs()){ev=gh.pageY+gf}else{ev=gh.pageY-gf}};var e8=function(){e1=false;
fI();eV()};var et=function(){if(ek(eD)){eD.classList.add(fi)}};var fI=function(){if(ek(eD)){eD.classList.remove(fi)}};var fx=function(gn){if(e1&&ek(fW)){var gf=fW.getBoundingClientRect();var gm=gf.width;var gl=400;var gg=50;var gq=0;var gi=cx.innerHeight-gl;var go=gn.pageX-fu;var gk=gg;var gh=cx.innerWidth-gg-gm;if(fs()){gq=cx.innerHeight-(gn.pageY+gf.y)-20}else{gq=gn.pageY-ev}var gp=f4();var gj=gp==="bottomLeft"||gp==="bottomRight"?"top":"bottom";if(go>=gk&&go<=gh){fW.style.left=go+"px";if(!gb()){fW.style.right="unset"}}if(gq>=50&&gq<=gi){fW.style[gj]=gq+"px"}}};var eV=function(){var gf={position:f4(),top:fW.style.top,left:fW.style.left,bottom:fW.style.bottom,right:fW.style.right};cu.setObject(fE,gf)};var f4=function(){var gf=cu.getObject(f);var gg=gf!==null&&typeof gf.position==="string"&&gf.position!=="";return gg?gf.position:"bottomRight"};var fs=function(){var gf=f4();return gf==="topLeft"||gf==="topRight"};var gb=function(){var gf=f4();return gf==="topLeft"||gf==="bottomLeft"};var eW=function(gg){var gf=Math.max(gg*em(),gg)+"px";ez.style.height=gf;ez.style.marginBottom="-"+gg+"px"};var eB=function(){var gj=f4();var gm=cx.roistat.onlineChat.customPosition;var gl=ge();var gp=gm&&gm.top!==null?gm.top:gl[gj].top;var gh=gm&&gm.right!==null?gm.right:gl[gj].right;var gf=gm&&gm.bottom!==null?gm.bottom:gl[gj].bottom;var gi=gm&&gm.left!==null?gm.left:gl[gj].left;fW=eb(eM,fR);if(ek(fW)){fW.classList.add(fq);fW.setAttribute("style","visibility: hidden;top: "+gp+";right:"+gh+";bottom:"+gf+";left:"+gi+";");ez=eb(eM,fp);if(ek(ez)){var gn=parseInt(gp==="unset"?gf:gp);eW(gn);var go=function(){if(bL()){fW.style.height=cx.visualViewport.height+"px"}else{fW.style.height="unset"}};go();cx.addEventListener("resize",function gg(){eW(gn);go();eL()});if(d8){el.addEventListener("resize",function gk(){eW(gn);go();eL()})}}}};var f3=function(){var gf=f4();var gg=function(){if(ek(fW)){var gj=ge();fW.style.right=gj[gf].right;fW.style.left=gj[gf].left;fW.style.top=gj[gf].top;fW.style.bottom=gj[gf].bottom}};cx.addEventListener("resize",function gi(){gg()});if(d8){el.addEventListener("resize",function gh(){gg()})}};var e7=function(){if(ek(eD)){var gf=f4();eD.setAttribute("style","top: "+fY[gf].top+";bottom:"+fY[gf].bottom+";height:"+fY[gf].height+";")}};var e4=function(){if(ek(f1)){var gf=f4();f1.setAttribute("style","top: "+f6[gf].top+";right:"+f6[gf].right+";bottom:"+f6[gf].bottom+";left:"+f6[gf].left+";")}};var fc=function(){fA("iframe appending to page");var gf=cA.decode(cu.get(D));eM=M.createElement("div");eM.innerHTML=gf;M.body.appendChild(eM);eD=eb(M,eY);eB();f3();f5()};var fe=function(){var gg=cu.getObject(f);fA("start filling pulsator");if(gg){if(ek(ft)){ft.setAttribute("style","background: "+gg.button_color+";")}if(ek(eX)){eX.setAttribute("style","fill: "+gg.icon_color+";")}if(HTMLCollection.prototype.isPrototypeOf(fr)){for(var gf=0;gf<fr.length;gf++){fr[gf].setAttribute("style","fill: "+gg.button_color+";")}}}};var fP=function(){var gg=cA.decode(cu.get(bB));var gi=!cY()&&cx.roistatOnlineChatOnly;var gh=(gg&&!d7()&&d3())||gi;if(gh){fA("pulsator appending to page");var gf=M.createElement("div");gf.innerHTML=gg;f1=gf.childNodes.item(0);if(!cx.roistat.multiwidget.isVisible){fA("Hide widget");f1.className=f1.className+" "+e9}ft=eb(f1,e2);eX=eb(f1,fU);eE=eb(f1,fa);fr=M.getElementsByClassName(eQ);M.body.appendChild(f1);e4();eH();fe()}};var eH=function(){if(ek(f1)){ej(f1,"click",function(){fJ();eA(f1)})}};function eA(gf){if(ek(gf)){gf.classList.toggle("opened")}}var fZ=function(){return ek(fW)&&!fW.classList.contains(fq)};function fl(){var gf=M.querySelector("#roistat-theme-color");if(ek(gf)){gf.remove()}}function es(){var gf=M.createElement("meta");if(ek(gf)){gf.setAttribute("name","theme-color");gf.setAttribute("content","#2589FF");gf.setAttribute("id","roistat-theme-color");M.head.prepend(gf)}}var fC=function(){if(!fZ()){fl();fg();return}var gf=Boolean(M.querySelector("#roistat-theme-color"));if(a3.Android()||a3.iOS()){fF();if(!gf){es()}}};var fF=function(){var gf=M.querySelector('meta[name="viewport"]');if(!ek(gf)){gf=M.createElement("meta");gf.setAttribute("name","viewport");M.head.appendChild(gf)}gf.setAttribute("content",fv)};function fg(){var gf=M.querySelector('meta[name="viewport"]');if(ek(gf)&&ew!==null){gf.setAttribute("content",ew);return}if(ek(gf)){gf.remove()}}var fJ=function(){setTimeout(function(){e1=false},3000);if(ek(fW)){fW.classList.toggle(fq);fC()}if(fZ()){f2()}eN()};var fz=function(){var gf=e5();if(ek(gf)){gf.classList.toggle(e9)}};var fb=function(gf){s=gf;if(!ek(fT)){return}eo()};var fd=function(gf){if(!ek(fT)){return}eT(gf)};var en=function(gf){if(!ek(fT)){return}gd(gf)};var fh=function(){eZ=true;var gf=function(){setTimeout(function(){fJ()},0)};cx.roistatOnlineChatShow=gf;cx.roistatOnlineChatToggle=gf;cx.roistatMultiwidgetShow=fz;fA("chat window initialized")};function e6(gf){dU(gf);eP()}function fy(){ca();fc();fL()}cx.roistat.onlineChat.actions.initWithMessage=fd;cx.roistat.onlineChat.actions.openChat=en;cx.roistat.onlineChat.localization.translateToRussian=function(){fb(cr)
};cx.roistat.onlineChat.localization.translateToEnglish=function(){fb(aE)};cx.roistat.onlineChat.localization.translate=function(gi){var gh=cH[cr].includes(gi),gg=cH[aE].includes(gi),gf=gi;if(gh){gf=cr}if(gg){gf=aE}fb(gf)};cN(fy)}};function ea(en){z("Widgets: "+en)}function e(en){return en!==ei}function dU(ep){var eo=Object.keys(ep);for(var en=0;en<eo.length;en++){ee[eo[en]]=ep[eo[en]]}}function d7(){var ev=Number(cu.get(bS)),eo=ev&&dZ&&dT,ez=Number(cu.get(bm)),er=d3(),ew=Number(cu.get(ce)),es=Number(cu.get(U)),en=Number(cu.get(cP)),eq=Number(cu.get(c0)),ey=Number(cu.get(dS)),ex=eo||er||ew||es||en||eq||ey,ep=eo&&!er&&!ew&&!es&&!en&&!eq&&!ey,eu=er&&!eo&&!ew&&!es&&!en&&!eq&&!ey,eA=!cY()&&cx.roistatOnlineChatOnly,et=cY()&&dG();z("Is online chat only: "+eA);z("Is rp: "+eA);return ez&&ex&&!eu&&!ep&&!eA&&!et}function d3(){var en=Number(cu.get(c1));if(!en){z("OnlineChat: Online chat is disabled");return false}var eo=cu.getObject(C);if(eo===null){return false}if(!eo.is_available_for_current_user_agent){z("OnlineChat: Current device group is disabled");return false}if(!eo.pages_filter.is_enabled){z("OnlineChat: Pages filter is disabled");return true}return bV(eo.pages_filter.pages.join(","))}function d4(){ea("Multiwidget disabled. Hide leadhunter pulsator from module")}function dW(en,ep,eo){cu.set(cc,cA.encode(en));cu.set(bF,cA.encode(ep));cu.setObject(cb,eo)}function d2(eo,en){cu.set(dj,cA.encode(eo));cu.setObject(f,en)}function d1(ep,en,eo){cu.set(bB,cA.encode(ep));cu.set(D,cA.encode(en));cu.set(c1,eo)}function d6(en,ep,eo){dW(en,ep,eo);cu.set(dj,cA.encode(ei));cu.set(D,cA.encode(ei));d9=false;ef.leadHunter()}function dV(ey,eu,es){var ep=ey.form_template,ez=ey.pulsator_template,er=ey.pulsator_settings;if(dG()){d6(ep,ez,er);return}ea("start initing widgets");var ev=es.pulsator_template,eq=es.iframe_template,ex=eu.pulsator_template,en=eu.pulsator_settings,et=Number(cu.get(bS)),eo=Number(es.settings.is_enabled),ew=cu.getObject(r)!==null;dW(ep,ez,er);d2(ex,en);d1(ev,eq,eo);if(ew){cu.set(cc,cA.encode(dX()))}d9=true;if(et&&!aS()){ea("leadhunter enabled. Start processing");ef.leadHunter()}if(d3()){ea("online chat enabled. Start processing");ef.onlineChat()}if(d7()){ea("multiwidget enabled. Start processing");ef.multiwidget()}}var dX=function(){var en=bk()+"//"+x+"/api/site/1.0/"+bf()+"/leadhunter/script/"+cu.get(a5)+"/widget";return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+en+'" frameborder="0"></iframe></div>'};function eh(){var ep=cu.get(cc),eA=cu.get(bF),er=cu.getObject(cb),eu=Number(cu.get(bS)),ev=cu.get(bB),eq=cu.get(D),eo=cu.get(c1),ex=cu.get(dj),en=cu.getObject(f);cx.roistatLeadhunterForm=d6;cx.roistatMultiwidget=dV;if(!ep||!eA||!er||!ex||!en||!ev){ea("requesting data from server");if(d7()||d3()||eu){a6(bk()+"//"+x+"/api/site/"+ap+"/"+bf()+"/multiwidget?domain="+encodeURIComponent(M.domain))}}else{var ez=cA.decode(ex);var ew=cA.decode(eq);if((!e(ez)||!e(ew)||dG())&&!aS()){ea("initing LeadHunter form");cx.roistatLeadhunterForm(cA.decode(ep),cA.decode(eA),er)}else{ea("initing multiwidget form");var es={pulsator_template:ez,pulsator_settings:en},et={form_template:cA.decode(ep),pulsator_template:cA.decode(eA),pulsator_settings:er},ey={iframe_template:ew,pulsator_template:cA.decode(ev),settings:{is_enabled:Number(eo)}};cx.roistatMultiwidget(et,es,ey)}}}function d5(){eh();ea("form initialized")}function ed(){ea("activated");d5()}cN(ed);cx.setRoistatOnlineChatCustomParams=dU;cx.roistatSaveLeadHunterTemplates=dW;cx.roistatSaveMultiwidgetTemplate=d2;cx.roistatSaveOnlineChatTemplate=d1})();(function t(){var d6=function(){return i(dK)};var dW=function(){return i(V)};var d4=function(){return cu.get(bu)};var dX=function(){return cu.get(bH)};var ea=function(ec){return ec!=null&&ec!==bR&&ec!==""};var d9=function(){var ec=[];var ed=M.getElementsByClassName(az);if(ed&&ed.length){ec=ed}return ec};var dU=function(){var ec=[];var ed=M.getElementsByClassName(L);if(ed&&ed.length){ec=ed}return ec};var dT=function(){var ec=[];var ed=M.getElementsByClassName(ar);if(ed&&ed.length){ec=ed}return ec};var dZ=function(){var ec=[];var ed=M.getElementsByClassName(O);if(ed&&ed.length){ec=ed}return ec};var d2=function(){var ec=[];var ed=M.getElementsByClassName(dC);if(ed&&ed.length){ec=ed}return ec};var e=function(ej,ek,eh){z("CallTracking: RenderPhone phone = "+ej);var ed=function(ew){return ew.split(/[^0-9]/).join("")};var es=function(ez,eB){var eE=null;if(!ez){return eE}var ew=eB.split(",");if(ew.length<2){eE=eB}else{var ex=ez.getAttribute("data-prefix");if(ex){for(var eA=0;eA<ew.length;eA++){var eC=ew[eA];var eD=ed(eC);if(eD.indexOf("8")===0){eD="7"+eD.substring(1)}var ey=eD.split(ex)[0]==="";if(ey){eE=eC;break}}}if(eE===null){eE=ew[0]}z("CallTracking._getPhoneForElement: Prepared phone = "+eE+" for data-prefix = "+ex)}return eE};var et=function(eB,ez,ey){var eC=es(eB,ez);var ew=ey||eC;if(!ew||!eB){return}if(eB.tagName.toLowerCase()!=="a"){return}var eA=eB.getAttribute("href");
if(dm(eA,"tel:")){var ex=ey;if(!ex){ex=ed(ew);if(ex.indexOf("8")===0){ex="7"+ex.substring(1)}}eB.setAttribute("href","tel:+"+ex);ef(eB,eC)}};var ef=function(ex,ew){if(!ex.hasAttribute("title")){return}ex.setAttribute("title",ew)};var en=function(ey,ex){var ew=es(ey,ex);if(!ew||!ey){return}ey.innerHTML=ew};var ee=/^\D*(\d+)(?:[(|\s])/;var ei=/\((\d+)\)|\s(\d+)\s/;var eg=/(\(\d+\)|\s\d+\s)(.+)/;var eo=function(ey,eB){var ex=es(ey,eB);var eA=ex.match(ee);var ez=bE(eA)?eA[1]:"";var eC=ex.match(ei);var ew=(bE(eC)?(eC[1]||eC[2]):"").trim();var eD=ex.match(eg);var eE=(bE(eD)?eD[2]:"").trim();return{country:ez,region:ew,number:eE}};var eu=function(ex,ew){var ey=d9();z("CallTracking: render phone default classes for "+ey.length+" elements");q(ey,function(ez){en(ez,ex);et(ez,ex,ew)});q(dU(),function(eA){var ez=eo(eA,ex).country;en(eA,ez)});q(dT(),function(eA){var ez=eo(eA,ex).region;en(eA,ez)});q(dZ(),function(ez){var eA=eo(ez,ex).number;en(ez,eA)});q(d2(),function(ez){et(ez,ex,ew)})};var eq=function(eC,ex,ey){if(!ey){return}z("CallTracking: render phone user replacement for "+ey.length+" replacements");for(var eA=0;eA<ey.length;eA++){var eD=ey[eA];if(!eD){continue}var eE=eD[0];eD=eD.substr(1);var ew=[];if(eE==="#"){var eB=M.getElementById(eD);if(eB!==null){ew.push(eB)}}else{ew=M.getElementsByClassName(eD);ev(eD,eC,ex)}if(!ew||ew.length<1){continue}z("CallTracking: render phone for "+eD+", "+ew.length+" elements");for(var ez=0;ez<ew.length;ez++){en(ew[ez],eC);et(ew[ez],eC,ex)}}};var ep=function(ew){for(var ex=0;ex<ew.length;ex++){eq(ew[ex].phone,ew[ex].raw_phone,ew[ex].css_selectors);em(ew[ex].phone,ew[ex].raw_phone,ew[ex].replaceable_numbers)}};var em=function(ez,ey,ex){if(!ex||ex.length===0){return}var ew=function(){var eK=eD();var eJ=M.getElementsByTagName("*");var eE=eJ.length;for(var eI=0;eI<eE;eI++){var eL=eJ[eI];eA(eL,eK,es(eL,ez));var eH=eL.childNodes.length;for(var eF=0;eF<eH;eF++){var eG=eL.childNodes[eF];eC(eG,eK,es(eG,ez))}}};var eA=function(eI,eH,eE){if(!eB(eI)){return}var eJ=eI.getAttribute("href").replace("tel:","");var eG=eH.length;for(var eF=0;eF<eG;eF++){if(eH[eF].test(eJ)){et(eI,es(eI,eE),ey)}}};var eB=function(eF){if(eF.tagName.toLowerCase()!=="a"){return false}var eE=eF.getAttribute("href");return ba(eE)&&eE.indexOf("tel:")===0};var eD=function(){var eG=[];for(var eE=0;eE<ex.length;eE++){var eF="[\\s()[\\]{}\\-+.]*";var eH=ex[eE].split("").join(eF);eG.push(new RegExp("[+(]?"+eH,"g"))}return eG};var eC=function(eH,eG,eE){if(eH.nodeType!==Node.TEXT_NODE){return}for(var eF=0;eF<eG.length;eF++){if(eH.textContent&&eG[eF].test(eH.textContent)){eH.textContent=eH.textContent.replace(eG[eF],eE)}else{if(eH.innerText&&eG[eF].test(eH.innerText)){eH.innerText=eH.innerText.replace(eG[eF],eE)}}}};ew()};var ev=function(ey,ex,ew){q(er(ey+"-"+b0),function(eA){var ez=eo(eA,ex).country;en(eA,ez)});q(er(ey+"-"+aY),function(eA){var ez=eo(eA,ex).region;en(eA,ez)});q(er(ey+"-"+bt),function(ez){var eA=eo(ez,ex).number;en(ez,eA)});q(er(ey+"-"+ci),function(ez){et(ez,ex,ew)})};var er=function(ex){var ew=[];var ey=M.getElementsByClassName(ex);if(ey&&ey.length){ew=ey}return ew};var el=function el(){var ex=dX();if(ex){ex=ex.split("\n");for(var ew=0;ew<ex.length;ew++){ex[ew]="."+ex[ew]}}if(eh instanceof Array){ep(eh)}else{eu(ej,ek);eq(ej,ek,ex)}};(function ec(){el();var ew=[300,5000,15000];ew.forEach(function(ex){setTimeout(el,ex)})})()};var dV=function(ec){cu.save(n,ec,c9)};var d5=function(){if(cx.roistat.callTracking.phone){var ec={expires:parseInt(cx.roistat.callTracking.sessionTime),path:"/"};if(c9.domain){ec.domain=c9.domain}dD(dK,cx.roistat.callTracking.phone,ec);dD(V,cx.roistat.callTracking.rawPhone,ec);dV(1);cu.save(bH,cx.roistat.callTracking.replacementClasses,c9);cu.save(bu,cx.roistat.callTracking.phoneScriptsJson,c9)}};var d3=function(ee,ei,eg,ef,ed){z("CallTracking: reuse phone "+ee+" for time "+ei+" and replacements "+eg);var ec='script[data-roistat-script-id="'+aa+'"]';M.querySelectorAll(ec).forEach(function(el,ek){if(ek===0){return}el.remove()});z("CallTracking: all old scripts removed");if(!ea(ee)){z("CallTracking: new phone is invalid");roistat.callTracking.phone=null;dq();return}roistat.callTracking.enabled=1;roistat.callTracking.phone=ee;roistat.callTracking.sessionTime=ei;roistat.callTracking.replacementClasses=eg;roistat.callTracking.phoneScriptsJson=ef;roistat.callTracking.rawPhone=ed;dq();d5();var ej={expires:parseInt(ei),path:"/"};if(c9.domain){ej.domain=c9.domain}dD(dK,ee,ej);dD(V,ed,ej);cu.save(bu,ef,c9);cu.save(bH,eg,c9);var eh=dv(ef);e(ee,ed,eh)};var dY=function(){z("CallTracking: request new phone");var ec=i(cn);var eg=av();var ef=eg?eg:bI;var ee=encodeURIComponent(cL);var ed=S()+"/get-phone?visit="+ec+"&marker="+(ef?ef:"")+"&prefix="+cV+"&prefix_bind="+dL+"&phone_scripts_bind="+X+"&page="+ee;a6(ed,aa)};var d0=function(){cV=cx.roistatPhonePrefix?cx.roistatPhonePrefix:"";dL=cx.roistatPhonePrefixBind?cx.roistatPhonePrefixBind:"";X=cx.roistatCalltrackingScripts&&cx.roistatCalltrackingScripts.join?cx.roistatCalltrackingScripts.join(","):"";
z("CallTracking: refresh phone with prefix: "+cV+", binding: "+dL+", scripts: "+X);dY()};var eb=function(){var ec=cu.get(n)>0;var ed=cd.callTrackingEnabled;return ec&&ed};var d1=function(ec){dV(ec.is_enabled)};var d8=function d8(){var ed=d6();if(!ea(ed)){z("CallTracking: invalid phone "+ed+", requesting a new one");dY()}else{z("CallTracking: render phone "+ed);var ec=dW();var ee=dv(d4());e(ed,ec,ee)}};var d7=function(){z("CallTracking: init");if(aS()){z("CallTracking: Shut down because only online chat need to be inited");return}d5();if(!eb()){z("CallTracking: disabled, skip");return}if(cd.callTrackingManual){z("CallTracking: init finish because off manual");return}d8();aF(d8)};cx.roistatCallTrackingRefresh=d0;cx.roistatRequestNewPhone=dY;cx.roistatReusePhone=d3;cx.roistatCalltrackingUpdateSettings=d1;cN(d7)})();(function G(){var dU=function(d0){z("Emailtracking: "+d0)};var dY=function(d0,d2,d1){cu.save(bG,d0,c9);cu.save(b,d2,c9);cu.save(bW,JSON.stringify(d1),c9)};var dT=function(){var d0=(cx.roistat.emailtracking.email&&cx.roistat.emailtracking.trackingEmail)||aZ(cx.roistat.emailtracking.emails);if(cx.roistat.emailtracking.loaded&&d0){dU("save loaded email: "+cx.roistat.emailtracking.email);dY(cx.roistat.emailtracking.email,cx.roistat.emailtracking.trackingEmail,cx.roistat.emailtracking.emails)}else{dU("settings save skip, because not loaded");cx.roistat.emailtracking.email=cu.get(bG);cx.roistat.emailtracking.email=cx.roistat.emailtracking.email?cx.roistat.emailtracking.email:null;cx.roistat.emailtracking.email=cx.roistat.emailtracking.email==="null"?null:cx.roistat.emailtracking.email;dU("email loaded from storage: "+cx.roistat.emailtracking.email);cx.roistat.emailtracking.trackingEmail=cu.get(b);cx.roistat.emailtracking.trackingEmail=cx.roistat.emailtracking.trackingEmail?cx.roistat.emailtracking.trackingEmail:null;cx.roistat.emailtracking.trackingEmail=cx.roistat.emailtracking.trackingEmail==="null"?null:cx.roistat.emailtracking.trackingEmail;dU("tracking email loaded from storage: "+cx.roistat.emailtracking.trackingEmail);cx.roistat.emailtracking.emails=dv(cu.get(bW));cx.roistat.emailtracking.emails=cx.roistat.emailtracking.emails?cx.roistat.emailtracking.emails:null;dU("emails loaded from storage: "+JSON.stringify(cx.roistat.emailtracking.emails))}};var dW=function(d0){dY(d0.email,d0.trackingEmail,d0.emails)};var dV=function(){var d0=(!!cx.roistat.emailtracking.email&&!!cx.roistat.emailtracking.trackingEmail)||aZ(cx.roistat.emailtracking.emails);return cx.roistat.emailtracking.enabled&&d0};var e=function(){if(!dV()){dU("emailtracking disabled, skip swapping");return}var d1=function(d6,d7,d5){if(d6.href){var d4=aM(d6.href);if(d7.test(d4)){d6.href=d4.replace(d7,d5);return true}}if(d6.nodeType!==3){return false}if(d6.textContent&&d7.test(d6.textContent)){d6.textContent=d6.textContent.replace(d7,d5);return true}else{if(d6.innerText&&d7.test(d6.innerText)){d6.innerText=d6.innerText.replace(d7,d5);return true}}return false};var d0=function(d4){return d4.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")};var d2=function(d6,d5){var d4=!d5.match(/[a-z]/);return d4?d6.toUpperCase():d6};var d3=function(ec,ee){var ef=d0(ec);var d6=new RegExp("(^|\\s)(mailto:)?("+ef+")($|\\s|\\?)","gi");var eg=function(el,ej,eh,ei,ek){eh=eh||"";return ej+eh+d2(ee,ei)+ek};dU("starting to replace email "+ec+" to "+ee+" with regexp "+d6);var d5=M.getElementsByTagName("*");var d8=d5.length;dU("found "+d8+" nodes on page");var eb=0;for(var ea=0;ea<d8;ea++){var d7=d5[ea];var ed=d7.childNodes.length;if(ed>0){for(var d9=0;d9<ed;d9++){var d4=d7.childNodes[d9];if(d1(d4,d6,eg)){eb++}}}if(d1(d7,d6,eg)){eb++}}dU("successfully replaced "+eb+" nodes")};if(cx.roistat.emailtracking.emails){bx(cx.roistat.emailtracking.emails,d3)}else{d3(cx.roistat.emailtracking.email,cx.roistat.emailtracking.trackingEmail)}};var dX=function(){dU("process email swap");e();setTimeout(function(){e()},300);setTimeout(function(){e()},5000);setTimeout(function(){e()},15000)};var dZ=function(){dU("init");if(aS()){dU("Shut down because only online chat need to be inited");return}aF(dX);dT();dX()};cx.roistatEmailtrackingUpdateSettings=dW;cx.roistat.emailtracking.refresh=e;cN(dZ)})();(function bz(){var dV=function(dX){z("MultiDomain: "+dX)};var dU=function(){return cu.get(db)>0};var dT=function(d1){var d2=function(d4){if(!d4){return false}if(dm(d4,"roistat_visit")){return false}var d3=bj(d4);var d6=bj(M.domain);var d5=new RegExp(/^((https?:)?\/\/)?([A-ZА-ЯЁ0-9\_\-\~]+\.)+[A-ZА-ЯЁ0-9\_\-\~]+/i);return d3!==d6&&d5.test(d4)};var d0=function(d6){var d7=d6.split("#");var d5=d7[0].split("?");var d3="";var d4="";if(d5.length===2){d3=d5[1]}if(d3){d4="&"}d3=d3+d4+"roistat_visit="+roistat.getVisit();d5[1]=d3;d7[0]=d5.join("?");return d7.join("#")};if(d1.tagName.toLowerCase()!=="a"){return}var dZ=d1.getAttribute("href");var dY=false;if(d2(dZ)){var dX=d0(dZ);dV("update url "+dZ+" > "+dX);d1.setAttribute("href",dX);dY=true}return dY};var e=function(){if(!dU()){dV("disabled, skip");return
}var dX=M.getElementsByTagName("a");var dY=dX.length;dV("found "+dY+" <a> nodes on page");var d1=0;for(var dZ=0;dZ<dY;dZ++){var d0=dX[dZ];if(dT(d0)){d1++}}dV("replaced "+d1+" nodes")};var dW=function(){dV("init");if(aS()){dV("Shut down because only online chat need to be inited");return}e();setTimeout(function(){e()},300);setTimeout(function(){e()},5000);setTimeout(function(){e()},15000)};cN(dW);aF(dW)})();(function dl(){var e=60*1000;var dZ=2*60*1000;var dT=function(d1){z("SettingsUpdater: "+d1)};var dX=function(){cu.set(ag,cB())};var dY=function(){var d2=ds();var d1=!(d2>0);dT("is first update check: lastUpdateTime="+d2+", result="+(d1?1:0));return d1};var d0=function(){var d3=cB()-dZ;var d2=ds();var d1=d2<=d3;dT("expiration check: _minTime="+d3+", lastUpdateTime="+d2+", result="+(d1?1:0));return d1};var dU=function(d2){var d1=i(cn);a(d1,d2)};var dV=function(d2){dT("update settings and save last update time");var d1=cu.getObject(r)!==null;if(d1){var d3=dv(d2.js_settings.leadHunterTargetPagesMap);if(d3!==null){cu.setObject(r,d3)}}cx.roistatCalltrackingUpdateSettings(d2.calltracking);cx.roistatEmailtrackingUpdateSettings(d2.emailtracking);cx.roistatSaveLeadHunterTemplates(d2.leadhunter_templates.form_template,d2.leadhunter_templates.pulsator_template,d2.leadhunter_templates.pulsator_settings);cx.roistatSaveMultiwidgetTemplate(d2.multiwidget_templates.pulsator_template,d2.multiwidget.pulsator_settings);cx.roistatSaveOnlineChatTemplate(d2.online_chat_templates.pulsator_template,d2.online_chat_templates.iframe_template);cx.roistatSaveProxyFormSettings(d2.proxy_forms);bn(d2.js_settings);da(d2.multiwidget.multiwidget_settings);cy(d2.online_chat);v(d2.geo);cJ(d2.promo_code);cp.isSettingsUpdating=false;dX()};var dW=function(){dT("init");if(dY()){dT("in first update we just start first timer and skip");dX();return}if(!d0()){dT("update is not not expired, skip");return}dT("start to update settings");dU()};cN(function(){cx.roistatUpdateSettings=dV;setTimeout(function(){dW()},3000);dT("set interval to update settings");setInterval(function(){dW()},e)})})();(function b5(dW,e,dY){var dV={};var dT=function(d0){var dZ=encodeURIComponent?encodeURIComponent:encodeURI;return dZ(d0)};var dU=function(d6,d0){z("Reach goal start");if(!d6){d6={}}var d3={leadName:"",formTitle:"",name:"",phone:"",email:"",price:"",text:"",fields:"",client_fields:"",is_need_callback:"",callback_phone:"",visit:cO(),is_skip_sending:0,items:"",placeholders_data:"",engine_type:""};for(var d2 in d3){if(!Object.prototype.hasOwnProperty.call(d3,d2)){continue}if(!Object.prototype.hasOwnProperty.call(d6,d2)){continue}if(!d6[d2]){continue}if(d2==="fields"||d2==="client_fields"||d2==="items"||d2==="placeholders_data"){d6[d2]=JSON.stringify(d6[d2])}d3[d2]=dT(d6[d2])}var d5=bf();var d4=bk()+"//"+x+"/api/site/"+ap+"/"+d5+"/reach-goal?v=2";for(var d1 in d3){if(!Object.prototype.hasOwnProperty.call(d3,d1)){continue}d4=d4+"&"+d1+"="+d3[d1]}if(d0!==dY){var dZ=Math.random().toString();dV[dZ]=d0;d4+="&callback_key="+dZ}a6(d4);z("Reach goal completed")};var dX=dW.roistatGoal={reach:function(d0,dZ){dU(d0,dZ)},callAfterReachCallback:function(dZ){if(Object.prototype.hasOwnProperty.call(dV,dZ)){dV[dZ]();delete dV[dZ]}}}})(cx,M,bR);(function dF(dV,e,dW){var dT=function(dY){if(dY instanceof Array||dY===null||typeof dY!=="object"){z("Invalid event data");return""}return dU(dY)};var dU=function(dZ,d3,d2){var d1=d3||0;var dY=d2||[];if(d1>20){z("Recursion depth exceeded when processing additional event fields");return""}d1++;var d6=[];for(var d5 in dZ){if(Object.prototype.hasOwnProperty.call(dZ,d5)){var d4=dZ[d5];if(typeof d4==="string"||typeof d4==="number"){var d0=dY.length>0?"["+dY.join("][")+"]":"";d6.push("&data"+d0+"["+encodeURIComponent(d5)+"]="+encodeURIComponent(d4))}else{if(typeof d4==="object"){dY.push(encodeURIComponent(d5));d6.push(dU(d4,d1,dY));dY.pop()}else{z("Event data property ignored: "+d5)}}}}return d6.length>0?d6.join(""):""};var dX=function(d0,d2){z("Send event start");var dY=o();var d1=dT(d2);I("Name: "+d0+" Data: "+d1+" VisitId: "+dY);var dZ=S()+"/event/register?visit="+dY+"&event="+d0+d1;a6(dZ);z("Send event completed")};dV.roistat.event={send:function(dY,dZ){dX(dY,dZ)}}})(cx,M,bR);(function cv(d2,d4,dV){if(aS()){z("VisitApprove: Shut down because only online chat need to be inited");return}var d5=d2.roistatIsInitVisit===true?20000:10000;var dU=(new Date()).getTime();var dT=function(d9){return"approve_visit_"+d9};var d1=function(d9){ck.set(dT(d9),1)};var d6=function(d9){return ck.get(dT(d9))>0};var e,dX,d8=[];if(d4.addEventListener){e=function(ea,d9,eb){return ea.addEventListener(d9,eb,false)};dX=function(ea,d9,eb){return ea.removeEventListener(d9,eb,false)}}else{e=function(ea,d9,eb){return ea.attachEvent("on"+d9,eb)};dX=function(ea,d9,eb){return ea.detachEvent("on"+d9,eb)}}var d0=function(ec){if(d8.length>30){return}ec=ec||d2.event;if(!ec||!ec.screenX){return}var eb=(new Date()).getTime();var ee,ed=null;if(d8.length>0){ed=d8[d8.length-1]}if(ed){ee=eb-ed.time
}else{ee=eb-dU}if(ee<300){return}ee=ee-300;var eg=0;var d9=ec.screenX;var ef=ec.screenY;if(ed){eg=parseInt(Math.sqrt(Math.pow(ed.y-ef,2)+Math.pow(ed.x-d9,2)))}var ea={time:eb,pauseBeforeMove:ee,x:d9,y:ef,distance:eg};d8.push(ea)};var dZ=function(){var d9=[];q(d8,function(ea){var eb=[ea.pauseBeforeMove,ea.distance];d9.push(eb.join(":"))});if(d9.length===0){d9.push("0:0")}return d9.join("|")};var dW=function(){for(var d9 in d2){if(dm(d9,"yaCounter")){return true}}return false};var d3=function(){dX(d4,"mousemove",d0);var d9=o();z("VisitApprove: start for visit "+d9);if(d6(d9)){z("VisitApprove: visit already approved, skip");return}d1(d9);aI();var ea=S()+"/approve?v="+ac+"&visit="+d9;if(d7()){ea+="&hash="+aA()}if(dY()){ea+="&page_params="+encodeURIComponent(JSON.stringify(d2.roistat.page.params));g()}ea+="&mv="+dZ();ea+="&pl="+(d2.navigator?d2.navigator.platform:"");ea+="&ym="+(dW()?"1":"0");ea+="&wd="+(d2.navigator?(d2.navigator.webdriver===true?"1":"0"):"0");a6(ea)};var d7=function(){var ed=cp.cookies,ec=m();var ef=bp();for(var ea=0;ea<ef.length;ea++){var ee=ef[ea];var eg=Object.prototype.hasOwnProperty.call(ed,ee)?ed[ee]:dV;var d9=Object.prototype.hasOwnProperty.call(ec,ee)?ec[ee]:dV;var eb=typeof d9==="string"&&d9.length>0;if(eb&&eg!==d9){return true}}return false};var dY=function(){var ee=cp.pageParams,eb=d2.roistat.page.params;for(var ea=0;ea<cW.length;ea++){var d9=cW[ea];var ec=Object.prototype.hasOwnProperty.call(ee,d9)?ee[d9]:null;var ed=Object.prototype.hasOwnProperty.call(eb,d9)?eb[d9]:null;if(ed!==ec){return true}}return false};setTimeout(function(){d3()},d5);e(d4,"mousemove",d0)})(cx,M,bR);(function aG(dY,dZ,dU){var dW=function(){return af("roistat_ab_demo")==="1"};var d0=function(d3){return new RegExp(d3.split(".").join("\\.").split("*").join(".*").split("?").join("."))};var dX=function(d8){var d3=dY.location.href,d6=d8.filter,ec=d8.filterValue;var d9;switch(d6){case"except":case"pages":var d4,eb,ea=false;eb=d3?aU(d3):"";d9=ec?ec.split("\n"):[];if(eb&&d9.length!==0){for(var d5=0;d5<d9.length;d5++){var d7=d9[d5].trim();if(d7.length===0){continue}d4=d0(d7);if(d4.test(eb)){ea=true;break}}}return(d6==="pages")?ea:!ea;break;case"all":default:return true}};var dT=function(d5){var d3=dZ.getElementsByTagName("head")[0],d4;d4=dZ.createElement("style");d4.setAttribute("type","text/css");if(d4.styleSheet){d4.styleSheet.cssText=d5.value}else{d4.innerText=d5.value}d3.appendChild(d4);z("Applied css-test: "+d5.id)};var e=function(d3){if(Object.prototype.hasOwnProperty.call(c8.onAbTestsApplied,d3.id)){c8.onAbTestsApplied[d3.id](d3.value)}z("Applied uniform-test: "+d3.id)};var dV=function(d3){if(dX(d3)){switch(d3.type){case"css":dT(d3);break;case"uniform":e(d3);break}}};dY.applyTests=function(){z("Start applying ab tests");var d3=cu.getObject("abTesting");var d5,d4;for(d5 in d3){if(!Object.prototype.hasOwnProperty.call(d3,d5)){continue}d4=d3[d5];dV(d4)}cp.isAbTestsApplied=true;z("End applying ab tests");if(dY.onRoistatAbTestsApplied!==dU&&typeof dY.onRoistatAbTestsApplied==="function"){dY.onRoistatAbTestsApplied()}};var d1=function(){z("Call: apply demo AB test");var d3=af("roistat_ab_data");var d4;if(d3===null){return}else{d4=JSON.parse(cA.decode(d3))}if(typeof d4!=="object"){z("Error: testValue is not an object.");return}dV(d4)};function d2(){if(aS()){z("ABTest: Shut down because only online chat need to be inited");return}var d3=dW();if(!dh&&!d3){applyTests()}if(d3){d1()}}d2()})(cx,M,bR);(function cT(dT,e,dU){if(aS()){z("visitStream: Shut down because only online chat need to be inited");return}if(!dk){return}setTimeout(function(){(function(d1,d0,d4,d3,dY,dW,dZ){d1[dY]={COUNTER_ID:dW,HOST:dZ};var dX=d0.location.protocol=="https:"?"https://":"http://";var dV=d0.createElement(d4);dV.async=1;dV.src=dX+dZ+d3;var d2=d0.getElementsByTagName(d4)[0];d2.parentNode.insertBefore(dV,d2)})(dT,e,"script","/counter.js","datamap",bf(),dk)},1000)})(cx,M,bR);(function cs(dU,e,dV){var dW=function(){var dX=dU.roistatMetrikaCounterId;if(dX){cu.set(a8,dX)}};var dT=function(d2){var dX="yaCounter"+d2;var d1=100,dZ=0,d0=60000;var dY=function(){dZ+=d1;z("YandexMetrika: trying to access counter "+d2);if(dU[dX]===dV){if(dZ<d0){setTimeout(dY,d1);d1*=2}return}var d3={};d3[c6]=o();dU[dX].params(d3);z("YandexMetrika: visit id "+d3[c6]+" sent to counter "+d2)};setTimeout(dY,d1)};cN(function(){dW();var dZ=cu.get(a8);if(!dZ){z("YandexMetrika: counter id not found");return}var dY=String(dZ).split(",");z("YandexMetrika: counters: "+dY);for(var dX=0;dX<dY.length;dX++){if(dY[dX].trim()===""){continue}dT(dY[dX])}})})(cx,M,bR);(function aB(d2,d6){var ea=function(ed){z("Proxy Forms: "+ed)};var dZ=function(){if(d2.roistat.proxyForms.loaded&&d2.roistat.proxyForms.settings.length>0){ea("save loaded settings");d7(d2.roistat.proxyForms.settings)}else{ea("settings not loaded, getting from storage");d2.roistat.proxyForms.settings=cu.getObject(dE)||[]}};var d7=function(ed){cu.setObject(dE,ed)};var d3=function(){ea("init form listener");dV(d2.roistat.proxyForms.settings);
e(d2.roistat.proxyForms.settings)};var ec=function(ed){return ed.hasOwnProperty("hosts")&&ed.hasOwnProperty("is_excluding_hosts")&&bE(ed.hosts)&&ed.hosts.length>0};var dX=function(ee){if(!ec(ee)){return true}var ef=dt(ee.hosts,bj(d2.location.host));var ed=Boolean(ee.is_excluding_hosts);return ed?!ef:ef};var dU=function(ee){var ed=[];q(ee,function(ef){if(dX(ef)){ed.push(ef)}});return ed};var e=function(ed){var ef=[];q(ed,function(eg){if(eg.type==="js-button"){ef.push(eg)}});if(ef.length<1){ea("no button settings");return}var ee;if(d6.addEventListener){ee=function(eg){dY(ef,eg,eg.target,dW)};d6.addEventListener("click",ee,true)}else{if(d6.attachEvent){ee=function(){var eg=d2.event;dY(ef,eg,eg.srcElement,dW,true)};d6.attachEvent("onclick",ee)}else{ea("Listener could not be attached")}}};var dV=function(ee){I("Proxy form debug: start");var ed=[];q(ee,function(eg){if(eg.type==="form"){ed.push(eg)}});if(ed.length<1){ea("no form settings");return}if(d6.addEventListener){var ef=function(eg){dY(ed,eg,eg.target,eb)};d6.addEventListener("submit",ef,true)}else{if(d6.attachEvent){setInterval(function(){ed=dU(ed);var eg=d6.getElementsByTagName("form");q(eg,function(eh){if(eh.getAttribute("data-roistat-proxy-form-checked")==="true"){return}eh.setAttribute("data-roistat-proxy-form-checked","true");q(ed,function(ei){if(dT(eh,ei.selector)){eh.attachEvent("onsubmit",function(){d2.event.returnValue=false;I("Proxy form debug: start sending form lead");eb(ei,d2.event.srcElement)})}})})},2000)}else{ea("Listener could not be attached")}}};var dY=function(eg,eh,ei,ef,ed){var ej=dU(eg);var ee=null;q(ej,function(ek){if(dT(ei,ek.selector)){ee=ek}});if(ee===null){ea("No matched settings found for listener");return}ef(eh,ee,ei,ed)};var eb=function(eh,ef,eg,ee){var ed=d5(eg,ef);if(!d8(ed,ef)){I("Proxy form debug: lead fields is not valid");return}ee?eh.returnValue=false:eh.preventDefault();I("Proxy form debug: sending lead");d0(ed,ef,function(){HTMLFormElement.prototype.submit.call(eg)})};var dW=function(ef,ee){var ed=d5(null,ee);if(!d8(ed,ee)){return}d0(ed,ee)};var d0=function(ed,eg,ei){var eh={};var ef=d1(eg.crm)&&eg.crm.hasOwnProperty("is_enabled");var ee=ef?eg.crm.is_enabled:true;eh.leadName=eg.hasOwnProperty("lead_name")?eg.lead_name:"Новый лид с формы "+eg.title;eh.formTitle=eg.title;eh.name=ed.name;eh.phone=ed.phone;eh.email=ed.email;eh.text=ed.comment;eh.fields=ed.fields;eh.placeholders_data=ed.placeholdersData;eh.is_need_callback=eg.is_need_callback>0?1:0;eh.is_skip_sending=!ee;d2.roistatGoal.reach(eh,ei)};var d1=function(ed){return(typeof ed==="number"&&!isNaN(ed))||(typeof ed==="string"&&ed!=="")||(typeof ed==="object"&&ed!==null)||(typeof ed==="boolean"&&ed)||bE(ed)};var d8=function(ed,ef){var ee=[],eh=["name","email","phone","comment"];q(eh,function(ei){if(ef.hasOwnProperty(ei)&&ef[ei].required>0){ee.push(ei)}});if(bE(ef.fields)){q(ef.fields,function(ei){if(ei.required>0){ee.push(ei)}})}var eg=true;q(ee,function(ei){if(!ed.hasOwnProperty(ei)||!d1(ed[ei])){eg=false}});return eg};var d5=function(ef,ee){var ed={};ed.name=ee.name?d4(ef,ee.name.value,ee.name.type):"";ed.phone=ee.phone?d4(ef,ee.phone.value,ee.phone.type):"";ed.email=ee.email?d4(ef,ee.email.value,ee.email.type):"";ed.comment=ee.comment?d4(ef,ee.comment.value,ee.comment.type):"";ed.fields={};ed.placeholdersData={orderPage:cL};if(bE(ee.fields)){q(ee.fields,function(eg){ed.fields[eg.name]=d4(ef,eg.value,eg.type)})}return ed};var d4=function(ee,eh,ed){switch(ed){case"plain":return eh||"";case"input":var eg=ee.querySelector('input[name="'+eh+'"]');return eg?eg.value:"";case"js":try{return(new Function(eh))()}catch(ef){return""}}};var d9=function(){ea("init");if(aS()){ea("Shut down because only online chat need to be inited");return}if(!d2.roistat.proxyForms.enabled){ea("disabled");return}dZ();d3()};var dT=function(eg,ee){if(typeof Element!=="undefined"&&Element.prototype.matches){var ed=eg.matches(ee);if(!ed){return eg.closest(ee)?eg.closest(ee).matches(ee):false}return ed}else{if(typeof Element!=="undefined"&&Element.prototype.matchesSelector){var eh=eg.matchesSelector(ee);if(!eh){return eg.closest(ee)?eg.closest(ee).matches(ee):false}return eh}else{if(d6.querySelectorAll){var ei=d6.querySelectorAll(ee);for(var ef=0;ef<ei.length;ef++){if(ei[ef]===eg){return true}}return false}}}return false};cN(d9);d2.roistatSaveProxyFormSettings=d7})(cx,M);(function R(){if(cx.onRoistatAllModulesLoaded!==bR&&typeof cx.onRoistatAllModulesLoaded==="function"){z("onRoistatAllModulesLoaded: call");cx.onRoistatAllModulesLoaded()}})();(function bg(dZ,d2,dW){var e=function(){return cu.get(aw)*1>0};var d1=function(d8){z("Request listener: "+d8)};var d7=/^(8|7|380|45|370|375|1|48|357|44|373|371|49|971|996|995|972|420|33|90|34|55|61|52|60|374|43|41|351)?(\d){9,13}$/g;var d0=/^[^\s]+[@][^\s]+$/g;var dV=["mc.yandex.ru","google-analytics.com","google.ru","google.com","stats.g.doubleclick.net"];var dU=function dU(){d1("listen");if(dZ.XMLHttpRequest){XMLHttpRequest.prototype.oldSend=XMLHttpRequest.prototype.send;
function ea(ed){var ec=this;d3(ec.responseURL,ed,function(){ec.oldSend(ed)})}XMLHttpRequest.prototype.send=ea}if(dZ.ActiveXObject){var d9=eb;function eb(ee){var ec=new d9(ee);var ef={};if(ee.toLowerCase()==="msxml2.xmlhttp"){ef={_ax:ec,_status:"fake",responseText:"",responseXml:null,readyState:0,status:0,statusText:0,onReadyStateChange:null};var ed="";ef._onReadyStateChange=function(){var eg=ef;return function(){eg.readyState=eg._ax.readyState;if(eg.readyState===4){eg.responseText=eg._ax.responseText;eg.responseXml=eg._ax.responseXml;eg.status=eg._ax.status;eg.statusText=eg._ax.statusText}if(eg.onReadyStateChange){eg.onReadyStateChange()}}}();ef.open=function(ek,ei,ej,eg,eh){ed=ei;ej=(ej!==false);this._ax.onReadyStateChange=this._onReadyStateChange;return this._ax.open(ek,ei,ej,eg,eh)};ef.send=function(eg){var eh=this;d3(ed,eg,function(){this._ax.send(eg)})}}else{ef=ec}return ef}dZ.ActiveXObject=eb}if(dZ.fetch){var d8=fetch;fetch=function(ec,ed){d3(ec.url,ed||{});return d8(ec,ed||{})}}dZ.addEventListener("submit",function(ef){var eh=ef.target.elements;var eg={};for(var ee=0;ee<eh.length;ee++){var ed=eh[ee];var ec=ed.getAttribute("name");eg[ec]=ed.value}d3("",eg)})};function dX(d8){var eb={};if(d8.length===0){return eb}var ea=d8.split("?");if(ea.length<2){return eb}var d9=ea[1];eb=dT(d9);return eb}function dT(d9){var ea=d9.split("&"),ec={};for(var d8=0;d8<ea.length;d8++){var eb=ea[d8].split("=");if(eb.length<2){continue}ec[eb[0]]=eb[1]}return ec}function d5(ep){d1("data: "+JSON.stringify(ep));var ei={email:["email","Email","EMAIL","mail","MAIL","Mail"],phone:["phone","Phone","PHONE","tel","Tel","TEL"],name:["name","Name","NAME","full_name","Full_Name","FULL_NAME"]};var ef={email:"",phone:"",name:""};for(var d8 in ei){var el=ei[d8];for(var ek in el){if(el.hasOwnProperty(ek)){if(ep.hasOwnProperty(el[ek])){ef[d8]=ep[el[ek]];break}}}}d1("new data: "+JSON.stringify(ef));var ea=ef.phone.length===0;var ee=ef.email.length===0;if(!ea&&!ee){return ef}var d9=new RegExp(d0);var ed=new RegExp(d7);var eg=Object.keys(ep);for(var em=0;em<eg.length;em++){var ej=decodeURIComponent(String(ep[eg[em]]));if(ee){var eb=ej.match(d9);if(eb&&eb.length>0){var eh=ef.email;ef.email=eb[0];d1("parsing email, before: "+eh+", after: "+ef.email)}}if(ea){var eo=ej.replace(/[\s-.()+*_—:;'"`]/g,"");var en=eo.match(ed);if(en&&en.length>0){var ec=ef.phone;ef.phone=ej;d1("parsing phone, before: "+ec+", after: "+ef.phone)}}}return ef}var dY=function(d8){var d9=bj(d8);return !aC(dV,d9)};function d3(ea,d9,d8){if(ea.length>0&&!dY(ea)){return}var ec=dX(ea);var ee=d9;if(typeof ee==="string"){ee=dT(ee)}d1("data before parsing "+JSON.stringify({get:ec,post:ee}));var ed=d5(ec);var eb=d5(ee);d1("data after parsing "+JSON.stringify({get:ed,post:eb}));d4(ed,eb,d8)}function d4(d8,ea,ee){var ed=d8.email.length>0?d8.email:ea.email;var d9=d8.phone.length>0?d8.phone:ea.phone;var ec=d8.name.length>0?d8.name:ea.name;if(ed.length==0&&d9.length==0){ee();return}setTimeout(function(){ee()},100);var eb={leadName:"Автоматический лид с сайта",name:ec,phone:d9,email:ed,is_skip_sending:1};d1("phone or email is not empty, reaching goal "+JSON.stringify(eb));roistatGoal.reach(eb)}(function d6(){if(!e()){d1("disabled, skip");return}dU()})()})(cx,M,bR)})(window,document,undefined);